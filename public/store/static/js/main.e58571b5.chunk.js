(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{195:function(e,t,a){},297:function(e,t,a){e.exports=a(683)},680:function(e,t,a){},681:function(e,t,a){},682:function(e,t,a){},683:function(e,t,a){"use strict";function n(e){return{type:I,data:e}}function r(e){return{type:O,data:e}}function o(){return{type:C}}a.r(t);var s=a(0),i=a.n(s),l=a(7),c=a.n(l),u=a(15),d=a(16),m=a(19),h=a(17),p=a(18),f=a(20),g=a(29),v=a(56),y=(a(138),a(83)),E=a.n(y),w=(a(86),a(9)),b=a.n(w),S=(a(139),a(44)),x=a.n(S),I="SET_USERINFO",O="ADD_TAG",_="REMOVE_TAG",C="EMPTY_TAG",k="SET_BREADCRUMB",j="SET_TAGS",N="SET_THEME",L="SET_COLLAPSE",F="SET_SHOWMAP",D="SET_STOREINFO",T="SET_PASSWORD",M="SET_STOREPHONE",P="SET_STORELIST",A="SET_STOREADDRESS",R="SET_WITHDRAWBOX",U="SET_STORE",q="SET_SHOWBOX",K="SET_withDrawList",H="SET_withDrawDetail",B=[{path:"/storeList",title:"\u5e97\u94fa\u7ba1\u7406",icon:"shop",hideInMenu:!0,children:[{path:"/storeAdd",title:"\u6dfb\u52a0\u5206\u5e97",hideInMenu:!0},{path:"/storeInfo/:type/:id",title:"\u5e97\u94fa\u8be6\u60c5",hideInMenu:!0}]},{path:"/",title:"\u9500\u552e\u7ba1\u7406",icon:"account-book",children:[{path:"/saleList",title:"\u9500\u552e\u8bb0\u5f55"},{path:"/withDrawDeposit",title:"\u63d0\u73b0\u8bb0\u5f55"}]},{path:"/purchaseOrder",title:"\u5230\u5e97\u8ba2\u5355",icon:"credit-card"}],Y=(a(193),a(128)),z=a.n(Y),V=(a(37),a(23)),W=a.n(V),$=(a(194),a(96)),G=a.n($),J=(a(195),Object(v.g)(function(e){return i.a.createElement(z.a,{gutter:24,className:"wrap-404"},i.a.createElement(G.a,{offset:4,sm:10,className:"img-box",xs:20}),i.a.createElement(G.a,{offset:1,sm:10,className:"content-error",xs:20},i.a.createElement("h1",null,"404"),i.a.createElement("p",{className:"desc"},"\u62b1\u6b49\uff0c\u4f60\u8bbf\u95ee\u7684\u9875\u9762\u4e0d\u5b58\u5728"),i.a.createElement("div",null,i.a.createElement(W.a,{onClick:function(){e.history.push("/storeList")},type:"primary"},"\u8fd4\u56de\u9996\u9875"))))})),X=Object(v.g)(function(e){return i.a.createElement(z.a,{gutter:24,className:"wrap-500"},i.a.createElement(G.a,{offset:4,sm:10,className:"img-box",xs:20}),i.a.createElement(G.a,{offset:1,sm:10,className:"content-error",xs:20},i.a.createElement("h1",null,"500"),i.a.createElement("p",{className:"desc"},"\u62b1\u6b49\uff0c\u670d\u52a1\u5668\u9519\u8bef"),i.a.createElement("div",null,i.a.createElement(W.a,{onClick:function(){e.history.push("/storeList")},type:"primary"},"\u8fd4\u56de\u9996\u9875"))))}),Q=a(57),Z=(a(92),a(36)),ee=a.n(Z),te=(a(49),a(21)),ae=a.n(te),ne=(a(60),a(28)),re=a.n(ne),oe=a(13),se=a.n(oe),ie=Math.pow(2,53)-1,le=0,ce={savelocalStorage:function(e,t){localStorage.setItem(e,JSON.stringify(t))},getlocalStorage:function(e){return JSON.parse(localStorage.getItem(e))},removeLocalStoreage:function(e){localStorage.removeItem(e)},saveSessionStorage:function(e,t){sessionStorage.setItem(e,JSON.stringify(t))},getSessionStorage:function(e){return JSON.parse(sessionStorage.getItem(e))},removeSessionStorage:function(e){sessionStorage.removeItem(e)},debounce:function(e,t,a){function n(){var c=+new Date-i;c<t&&0<c?r=setTimeout(n,t-c):(r=null,a||(l=e.apply(s,o),r||(s=o=null)))}var r,o,s,i,l;return function(){for(var o=arguments.length,c=new Array(o),u=0;u<o;u++)c[u]=arguments[u];s=this,i=+new Date;var d=a&&!r;return r=r||setTimeout(n,t),d&&(l=e.apply(s,c),s=c=null),l}},unique:function(e){for(var t=[],a={},n=0;n<e.length;n++)a[e[n]]||(t.push(e[n]),a[e[n]]=1);return t},isarray:Array.isArray||function(e){return"[object Array]"===toString.call(e)},isarraylike:function(e){var t=e&&e.length;return t&&"number"==typeof t&&0<=t&&t<=ie},isboolean:function(e){return!0===e||!1===e||"[object Boolean]"===toString.call(e)},isdate:function(e){return"[object Date]"===toString.call(e)},isnumber:function(e){return"number"==typeof e},isstring:function(e){return"string"==typeof e},isfunction:function(e){return"function"==typeof e},isobject:function(e){return"object"==typeof e},isplainobject:function(e){return e&&ce.isobject(e)&&Object.getPrototypeOf(e)===Object.prototype},trim:function(e){return void 0!==e.trim?e.trim():e.replace(/(^\s*)|(\s*$)/g,"")},prefillzero:function(e,t){for(e=e.toString();e.length<t;)e="0"+e;return e},hasvalue:function(e,t,a){var n=!1;return ce.each(e,function(e,r){if(e[t]&&e[t]===a)return!(n=!0)}),n},hasArrvalue:function(e,t){var a=!1;return ce.each(e,function(e){if(e.id===t)return!(a=!0)}),a},haskey:function(e,t){return null!==e&&hasOwnProperty.call(e,t)},allkeys:function(e){if(!ce.isobject(e))return[];var t,a=[];for(t in e)a.push(t);return a},keys:function(e){if(!ce.isobject(e))return[];if(Object.keys)return Object.keys(e);var t,a=[];for(t in e)ce.haskey(e,t)&&a.push(t);return a},values:function(e){for(var t=ce.keys(e),a=t.length,n=0,r=Array(a);n<a;n++)r[n]=e[t[n]];return r},extend:function(e,t){var a,n,r,o,s,i,l,c=arguments.length,u=1,d=!1;if(c<2||null===e)return e;for(ce.isboolean(arguments[0])&&(d=arguments[0],e=t,u++);u<c;u++)for(a=arguments[u],r=(n=ce.allkeys(a)).length,o=0;o<r;o++)a[s=n[o]]!==e&&(d&&(ce.isplainobject(a[s])||(i=ce.isarray(a[s])))?(l=i?(i=!1,e[s]&&ce.isarray(e[s])?e[s]:[]):e[s]&&ce.isPlainObject(e[s])?e[s]:{},e[s]=ce.extend(d,l,a[s])):void 0!==a[s]&&(e[s]=a[s]));return e},copy:function(e,t){var a,n=!(1<arguments.length&&void 0!==t)||t;return a=ce.isarray(e)?[]:{},ce.extend(n,a,e)},each:function(e,t,a){var n,r,o=void 0===a?t:function(e,n,r){return t.call(a,e,n,r)};if(ce.isarraylike(e))for(n=0,r=e.length;n<r&&!1!==o(e[n],n,e);n++);else{var s=ce.keys(e);for(n=0,r=s.length;n<r&&!1!==o(e[s[n]],s[n],e);n++);}return e},thorttleFn:function(e,t,a){var n=t||300,r=a||!0;return function(){var t=new Date;if(clearTimeout(null),!le)return le=t,void e.apply(this,arguments);n<=t-le?(le=t,e.apply(this,arguments)):r&&ce.msg("\u64cd\u4f5c\u8fc7\u4e8e\u9891\u7e41")}},createcache:function(e){var t=[];return function a(n,r){return!1!==e&&t.push[n+" "]>e&&delete a[t.shift()],void 0!==r?a[n+" "]=r:a[n+" "]}},later:function(e,t,a){var n;return function(){var r=this,o=arguments,s=a&&!n;clearTimeout(n),n=setTimeout(function(){a||e.apply(r,o),n=null},t),s&&e.apply(r,o)}},once:function(e,t){var a;return function(){return e&&(a=e.apply(t||this,arguments),e=null),a}},fire:function(e,t,a){var n,r,o,s,i;return a=a||{},s=null,i=0,function(){var l,c;return l=(new Date).getTime(),i||!1!==a.leading||(i=l),n=this,r=arguments,(c=t-(l-i))<=0||t<c?(s&&(clearTimeout(s),s=null),i=l,o=e.apply(n,r),s||(n=r=null)):s||!1===a.trailing||(s=setTimeout(function(){i=!1===a.leading?0:(new Date).getTime(),s=null,o=e.apply(n,r),s||(n=r=null)},c)),o}},watch:function(e,t,a){a&&Object.defineProperty(e,t,{set:function(e){a(e)}})},data:function(e,t){if(e&&t){var a=e.currentTarget.dataset[t];return void 0!==a?isNaN(a)?"true"===a||"false"===a?"true"===a:0===a.indexOf("{")&&a.length-1===a.indexOf("}")?JSON.parse(a):a:Number(a):null}return null},encodeurl:function(e){return encodeURIComponent(e)},decodeurl:function(e){return decodeURIComponent(e)},encode:function(e){for(var t=String.fromCharCode(e.charCodeAt(0)+e.length),a=1;a<e.length;a++)t+=String.fromCharCode(e.charCodeAt(a)+e.charCodeAt(a-1));return escape(t)},decode:function(e){e=unescape(e);for(var t=String.fromCharCode(e.charCodeAt(0)-e.length),a=1;a<e.length;a++)t+=String.fromCharCode(e.charCodeAt(a)-t.charCodeAt(a-1));return t},fmtdate:function(e,t){var a=1<arguments.length&&void 0!==t?t:"yyyy-MM-dd HH:mm:ss",n={"M+":e.getMonth()+1,"d+":e.getDate(),"h+":e.getHours(),"m+":e.getMinutes(),"s+":e.getSeconds(),"q+":Math.floor((e.getMonth()+3)/3),S:e.getMilliseconds()};for(var r in/(y+)/.test(a)&&(a=a.replace(RegExp.$1,(e.getFullYear()+"").substr(4-RegExp.$1.length))),n)new RegExp("("+r+")").test(a)&&(a=a.replace(RegExp.$1,1===RegExp.$1.length?n[r]:("00"+n[r]).substr((""+n[r]).length)));return a}},ue=a(191),de=a.n(ue),me=de.a.create({baseURL:"http://wx.supersg.cn/mainstore",timeout:6e3,retry:4,retryDelay:1e3});function he(e){return{type:F,data:e}}function pe(e){return{type:P,data:e}}function fe(e){return{type:A,data:e}}function ge(e){return{type:R,data:e}}function ve(e){return{type:U,data:e}}me.interceptors.request.use(function(e){return ce.getSessionStorage("userInfo")?(e.data.store_id=ce.getSessionStorage("userInfo").id,e.data.token=ce.getSessionStorage("userInfo").token):"index/login"!=e.url&&(window.location.href="/#/login"),e},function(e){return ae.a.error(e),Promise.reject(e)}),me.interceptors.response.use(function(e){return!1===e.data.success&&ae.a.error(e.data.message||e.data.msg),e.data},function(e){if("ECONNABORTED"!==e.code||-1===e.message.indexOf("timeout"))return Promise.reject(e);var t=e.config;return t.__retryCount=t.__retryCount||0,t.__retryCount>=t.retry?Promise.reject(e):(t.__retryCount+=1,new Promise(function(e){setTimeout(function(){e()},t.retryDelay||1)}).then(function(){return de()(t)}))});var ye,Ee,we,be=me,Se=re.a.Option,xe=[{title:"\u5e8f\u53f7",dataIndex:"key",width:"5%",align:"center",render:function(e,t,a){return a+1}},{title:"\u4e70\u5355\u6d41\u6c34\u53f7",dataIndex:"id",width:"10%"},{title:"\u4e70\u5355\u65f6\u95f4",dataIndex:"pay_time",width:"15%",render:function(e){return se()(1e3*e).format("YYYY-MM-DD hh:mm:ss")}},{title:"\u7528\u6237ID",dataIndex:"user_id",width:"10%"},{title:"\u5546\u54c1\u91d1\u989d",dataIndex:"price_yj",width:"10%",render:function(e){return"\xa5"+e+"\u5143"}},{title:"\u4f7f\u7528\u6298\u6263",dataIndex:"discount",width:"10%"},{title:"\u5e97\u94fa\u4f18\u60e0",dataIndex:"store_coupon_money",width:"10%",render:function(e){return"\xa5"+e+"\u5143"}},{title:"\u5e73\u53f0\u8865\u8d34",dataIndex:"coupon_money",width:"10%",render:function(e){return"\xa5"+e+"\u5143"}},{title:"\u5b9e\u6536\u91d1\u989d",dataIndex:"price_maidan",width:"10%",render:function(e){return"\xa5"+e+"\u5143"}},{title:"\u6536\u6b3e\u5e97\u94fa",dataIndex:"store_name",width:"20%"}],Ie=[{width:"5%",dataIndex:"key",align:"center"},{width:"10%"},{width:"15%"},{width:"10%"},{dataIndex:"totalAll",width:"10%",render:function(e){return"\xa5"+e+"\u5143"}},{width:"10%"},{width:"10%"},{width:"10%"},{width:"10%",dataIndex:"totalDesc",render:function(e){return"\xa5"+e+"\u5143"}},{width:"20%"}],Oe=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(m.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={total:[{key:"\u5408\u8ba1",price_maidan:"0",totalMoney:"0",render:!1}],data:{total:0,list:[]},store_id:""},a.getOrderList=function(e,t){be.post("/order/maidanOrderList",{id:t,page:e,size:10}).then(function(e){if(e&&1==e.status){var t=0,n=0;ce.each(e.data.list,function(e){t+=parseFloat(e.price_yj),n+=parseFloat(e.price_maidan)}),t=t.toFixed(2),n=n.toFixed(2);var r=[{key:"\u5408\u8ba1",totalAll:t,totalDesc:n,render:0<e.data.list.length}];a.setState({data:e.data,total:r})}else ae.a.error(e.msg)})},a.changePage=function(e){a.setState({page:e.current}),a.getOrderList(e.current,a.state.store_id)},a.changeStore=function(e){a.setState({store_id:e,page:1}),a.getOrderList(1,e)},a.componentDidMount=function(){a.getOrderList(1)},a}return Object(p.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e,t,a=(this.props.storeList?this.props.storeList:ce.getSessionStorage("storeList")).data.map(function(e){return i.a.createElement(Se,{value:e.id,key:e.store_name},e.store_name)});return t=this.state.total[0].render?i.a.createElement(ee.a,{style:_e.tab,columns:Ie,dataSource:this.state.total,showHeader:!1,pagination:!1}):i.a.createElement("span",null),i.a.createElement("div",{className:"shadow-radius"},i.a.createElement("div",{className:"table-head mabot20"},i.a.createElement(re.a,{showSearch:!0,style:{width:200},className:"search_item",placeholder:"\u8bf7\u9009\u62e9\u95e8\u5e97",optionFilterProp:"children",onSelect:this.changeStore,filterOption:function(e,t){return 0<=t.props.children.toLowerCase().indexOf(e.toLowerCase())}},i.a.createElement(Se,{value:""},"\u5168\u90e8"),a)),i.a.createElement(ee.a,(e={columns:xe,rowKey:function(e){return e.id},onChange:this.changePage,pagination:{total:this.state.data.total,current:this.state.page},dataSource:this.state.data.list},Object(Q.a)(e,"rowKey",function(e){return e.id}),Object(Q.a)(e,"footer",function(){return i.a.createElement("div",{className:"disflx flxacen wdp100"},t)}),e)))}}]),t}(i.a.Component),_e={tab:{width:"100%"}},Ce=Object(f.b)(function(e){return e})(Object(v.g)(Oe)),ke=(a(180),a(73)),je=a.n(ke),Ne=(a(52),a(8)),Le=a.n(Ne),Fe=(a(123),a(69)),De=a.n(Fe),Te=(a(46),a(24)),Me=a.n(Te),Pe=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(m.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={num:60,waitRsp:!1},a.handleOk=function(){a.props.form.validateFields(function(e,t){if(!e&&!a.state.waitRsp){a.setState({waitRsp:!0});var n={},r=0,o=!0;ce.each(t,function(e,t){-1!=t.indexOf("money")&&(e<10&&(o=!1),r+=parseFloat(e),n[t.slice(5)]=e)}),o?(t.store_ids=n,t.money=r,be.post("/index/tixian",t).then(function(e){e&&1==e.status?(ae.a.success("\u63d0\u73b0\u6210\u529f"),a.setState({waitRsp:!1}),a.props.setWithDrawBox(!1),clearInterval(ye)):(a.setState({waitRsp:!1}),ae.a.error(e.msg))}).catch(function(e){a.setState({waitRsp:!1})})):(a.setState({waitRsp:!1}),ae.a.error("\u63d0\u73b0\u91d1\u989d\u5fc5\u987b\u5927\u4e8e10\u5143"))}})},a.handleCancel=function(){a.props.setWithDrawBox(!1),a.setState({num:60}),clearInterval(ye)},a.handleNormal=function(){},a.sendCode=function(){clearInterval(ye),/^((\+)?86|((\+)?86)?)0?1[3456789]\d{9}$/.test(a.props.form.getFieldValue("mobile"))?be.post("/index/getVerifyCode",{mobile:a.props.form.getFieldValue("mobile"),mobile_type:1}).then(function(e){e&&1==e.status?ye=setInterval(function(){a.state.num--,a.state.num<=0?(clearInterval(ye),a.setState({num:60})):a.setState({num:a.state.num})},1e3):ae.a.error(e.msg)}):ae.a.error("\u8bf7\u8f93\u5165\u6b63\u786e\u7684\u624b\u673a\u53f7\u7801")},a}return Object(p.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.props.form.getFieldDecorator,t=this.props.withDrawList.map(function(t){return i.a.createElement(Le.a.Item,{label:t.store_name,key:t.id},e("money"+t.id,{initialValue:t.allow_income,rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u63d0\u73b0\u91d1\u989d"}]})(i.a.createElement(Me.a,{width:{width:"80%"},placeholder:"\u8bf7\u8f93\u5165\u63d0\u73b0\u91d1\u989d\u4e0d\u80fd\u4f4e\u4e8e10\u5143"})))});return i.a.createElement("div",null,i.a.createElement(De.a,{title:"\u63d0\u73b0\u5230\u652f\u4ed8\u5b9d",visible:this.props.withDrawBox,onOk:this.handleOk,onCancel:this.handleCancel,destroyOnClose:!0,okText:"\u786e\u8ba4",cancelText:"\u53d6\u6d88",forcerender:!1,width:"700px"},i.a.createElement(Le.a,Object.assign({},{labelCol:{sm:{span:8}},wrapperCol:{sm:{span:16}}},{onSubmit:this.handleSubmit}),t,i.a.createElement(Le.a.Item,{label:"\u652f\u4ed8\u5b9d\u8d26\u53f7"},e("alipay_account",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u652f\u4ed8\u5b9d\u8d26\u53f7"}]})(i.a.createElement(Me.a,{placeholder:"\u8bf7\u8f93\u5165\u652f\u4ed8\u5b9d\u8d26\u53f7"}))),i.a.createElement(Le.a.Item,{label:"\u624b\u673a\u53f7\u7801"},i.a.createElement("div",{className:"disflx"},e("mobile",{initialValue:this.props.userInfo.mobile})(i.a.createElement(Me.a,{disabled:!0})),i.a.createElement(W.a,{type:"primary",className:"malef10",onClick:this.state.num<60?this.handleNormal:this.sendCode,disabled:this.state.num<60},this.state.num<60?this.state.num:"\u83b7\u53d6\u9a8c\u8bc1\u7801"))),i.a.createElement(Le.a.Item,{label:"\u9a8c\u8bc1\u7801"},e("code",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u9a8c\u8bc1\u7801"}]})(i.a.createElement(Me.a,{placeholder:"\u8bf7\u8f93\u5165\u9a8c\u8bc1\u7801"}))))))}}]),t}(i.a.Component),Ae=Object(f.b)(function(e){return e},function(e){return{setWithDrawBox:function(t){e(ge(t))}}})(Object(v.g)(Le.a.create()(Pe))),Re=Le.a.Item,Ue=re.a.Option,qe=[],Ke=[{dataIndex:"key",width:"5%",align:"center"},{width:"5%"},{width:"10%"},{width:"15%"},{width:"15%"},{dataIndex:"dayMoney",width:"10%",render:function(e){return"\xa5"+e+"\u5143"}},{dataIndex:"totalAll",width:"10%",render:function(e){return"\xa5"+e+"\u5143"}},{dataIndex:"waitMoney",width:"10%",render:function(e){return"\xa5"+e+"\u5143"}},{width:"10%",dataIndex:"canDrawMoney",render:function(e){return"\xa5"+e+"\u5143"}},{width:"10%"}],He=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(m.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={selectedRowKeys:[],total:[{key:"\u5408\u8ba1",totalAll:"0",canDrawMoney:"0",waitMoney:"0",dayMoney:"0",render:!1}],selectList:[{key:"\u5168\u90e8",val:0},{key:"\u53ef\u63d0\u73b0",val:1},{key:"\u4e0d\u53ef\u63d0\u73b0",val:-1}],data:{total:0,list:[]},page:1,columns:[{title:"\u5e8f\u53f7",width:"5%",dataIndex:"key"},{title:"\u5e97\u94faID",dataIndex:"id",width:"10%"},{title:"\u5e97\u94fa\u540d\u79f0",dataIndex:"store_name",width:"15%"},{title:"\u5730\u5740",dataIndex:"address",width:"15%"},{title:"\u4eca\u65e5\u6536\u76ca",dataIndex:"today_income",width:"10%",render:function(e){return"\xa5"+e+"\u5143"}},{title:"\u603b\u6536\u76ca",dataIndex:"total_income",width:"10%",render:function(e){return"\xa5"+e+"\u5143"}},{title:"\u5f85\u786e\u8ba4\u6536\u76ca",dataIndex:"wait_income",width:"10%",render:function(e){return"\xa5"+e+"\u5143"}},{title:function(){return i.a.createElement("div",null,i.a.createElement("div",null,"\u53ef\u63d0\u73b0\u6536\u76ca"),i.a.createElement("div",{className:"corbase",style:{fontSize:"10px"}},"(\u6700\u4f4e10\u5143\u8d77\u63d0)"))},dataIndex:"allow_income",width:"10%",render:function(e){return i.a.createElement("span",{className:10<=e?"corbase":""},"\xa5",e,"\u5143")}},{title:"\u662f\u5426\u53ef\u63d0\u73b0",width:"10%",render:function(e,t,n){return i.a.createElement("div",null,i.a.createElement(je.a,{checkedChildren:"\u662f","data-index":n,onChange:function(e){return a.switchChange(e,n)},unCheckedChildren:"\u5426",checked:1==e.is_tixian,defaultChecked:!0}))}}]},a.getOrderList=function(e,t){be.post("/store/SalesManagement",{page:e,size:10,id:t&&t.id,status:t&&t.status}).then(function(e){if(e&&1===e.status){var t=0,n=0,r=0,o=0;ce.each(e.data.data,function(e,a){1!=e.is_tixian&&10<=parseInt(e.allow_income)?e.can_draw=!0:e.can_draw=!1,e.key=a+=1,t+=parseFloat(e.total_income),n+=parseFloat(e.today_income),r+=parseFloat(e.wait_income),o+=parseFloat(e.allow_income)}),t=t.toFixed(2),o=o.toFixed(2),r=r.toFixed(2),n=n.toFixed(2);var s=[{key:"\u5408\u8ba1",totalAll:t,canDrawMoney:o,waitMoney:r,dayMoney:n,render:0<e.data.data.length}];a.setState({data:e.data,total:s})}else ae.a.error(e.msg)})},a.changePage=function(e){a.setState({page:e.current}),a.props.form.validateFields(function(t,n){t||a.getOrderList(e.current,n)})},a.searchKeys=function(e){a.setState({page:1}),qe=[],a.props.form.validateFields(function(e,t){e||a.getOrderList(1,t)})},a.switchChange=function(e,t){be.post("/store/tixianSet",{type:0<qe.length?2:1,status:e?1:-1,ids:qe,id:a.state.data.data[t].id}).then(function(e){e&&1===e.status&&a.getOrderList(a.state.page)})},a.onSelectChange=function(e,t){qe=[];var n=[];ce.each(t,function(e){n.push(e),qe.push(e.id)}),a.props.setwithDrawList(n),a.setState({selectedRowKeys:e})},a.getCheckboxProps=function(e){return{disabled:!e.can_draw}},a.showWithDrawBox=function(){a.props.setWithDrawBox(!0)},a.componentDidMount=function(){a.getOrderList(1)},a}return Object(p.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e,t=this.props.form.getFieldDecorator,a={selectedRowKeys:this.state.selectedRowKeys,getCheckboxProps:this.getCheckboxProps,onChange:this.onSelectChange},n=(this.props.storeList?this.props.storeList:ce.getSessionStorage("storeList")).data.map(function(e){return i.a.createElement(Ue,{value:e.id,key:e.id},e.store_name)}),r=this.state.selectList.map(function(e){return i.a.createElement(Ue,{value:e.val,key:e.key},e.key)});return e=this.state.total[0].render?i.a.createElement(ee.a,{style:Be.tab,columns:Ke,dataSource:this.state.total,showHeader:!1,pagination:!1}):i.a.createElement("span",null),i.a.createElement("div",{className:"shadow-radius"},i.a.createElement("div",{className:"table-head mabot20"},i.a.createElement("div",{className:"search_box flxbet wdp100"},i.a.createElement("div",{className:"disflx flxacen"},i.a.createElement(Le.a,{layout:"inline"},i.a.createElement(Re,null,t("id",{})(i.a.createElement(re.a,{showSearch:!0,style:{width:200},className:"search_item",placeholder:"\u8bf7\u9009\u62e9\u95e8\u5e97",optionFilterProp:"children",filterOption:function(e,t){return 0<=t.props.children.toLowerCase().indexOf(e.toLowerCase())}},i.a.createElement(Ue,{value:""},"\u5168\u90e8"),n))),i.a.createElement(Re,null,t("status",{initialValue:0})(i.a.createElement(re.a,{showSearch:!0,style:{width:200},className:"search_item",placeholder:"\u6309\u63d0\u73b0\u6761\u4ef6\u7b5b\u9009",optionFilterProp:"children",filterOption:function(e,t){return 0<=t.props.children.toLowerCase().indexOf(e.toLowerCase())}},r)))),i.a.createElement(W.a,{type:"primary",onClick:this.searchKeys},"\u63d0\u4ea4")),i.a.createElement(W.a,{type:"primary",onClick:this.showWithDrawBox,disabled:0==this.props.withDrawList.length},"\u63d0\u73b0"))),i.a.createElement(ee.a,{columns:this.state.columns,rowSelection:a,rowKey:function(e){return e.id},onChange:this.changePage,pagination:{total:this.state.data.total,current:this.state.page},dataSource:this.state.data.data,footer:function(){return i.a.createElement("div",{className:"disflx flxacen wdp100"},e)}}),i.a.createElement(Ae,null))}}]),t}(i.a.Component),Be={tab:{width:"100%"}},Ye=Object(f.b)(function(e){return e},function(e){return{setWithDrawBox:function(t){e(ge(t))},setwithDrawList:function(t){e(function(e){return{type:K,data:e}}(t))}}})(Object(v.g)(Le.a.create()(He))),ze=Le.a.Item,Ve=re.a.Option,We=[],$e=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(m.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={storeList:{data:[]},selectedRowKeys:[],columns:[{title:"\u5e8f\u53f7",render:function(e,t,a){return a+1}},{title:"\u5e97\u94faID",dataIndex:"id"},{title:"\u5e97\u94fa\u540d\u79f0",dataIndex:"store_name"},{title:"\u5e97\u94fa\u5730\u5740",dataIndex:"address"},{title:"\u5546\u54c1\u603b\u6570",dataIndex:"product_number"},{title:"\u521b\u5efa\u65f6\u95f4",dataIndex:"create_time"},{title:"\u5e97\u94fa\u72b6\u6001",render:function(e){return 1!=e.sh_status?0==e.sh_status?"\u5f85\u5ba1\u6838":"\u5ba1\u6838\u5931\u8d25":1==e.store_status?"\u5df2\u542f\u7528":"\u5df2\u7981\u7528"}},{title:"\u67e5\u770b",dataIndex:"",render:function(e){return i.a.createElement("div",null,i.a.createElement(W.a,{type:"link",onClick:function(){return a.toDetail(e)}},"\u67e5\u770b\u8be6\u60c5")," ",i.a.createElement(W.a,{type:"link",onClick:function(){return a.toProductList(e)}},"\u5546\u54c1\u5217\u8868"))}},{title:"\u64cd\u4f5c",render:function(e,t,n){return 1!=e.sh_status?0==e.sh_status?i.a.createElement("div",{className:"txtcen"},"\u5f85\u5ba1\u6838"):i.a.createElement(W.a,{type:"link",onClick:function(){return a.toDelete(e.id)}},"\u5220\u9664"):i.a.createElement("div",null,i.a.createElement(je.a,{checkedChildren:"\u542f\u7528","data-index":n,onChange:function(e){return a.switchChange(e,n)},unCheckedChildren:"\u7981\u7528",checked:0!=e.store_status,defaultChecked:!0}))}}],page:1},a.searchKeys=function(e){a.setState({page:1}),a.props.form.validateFields(function(e,t){e||a.getStoreList(1,t)})},a.toDelete=function(e){be.post("/index/deleteStore",{ids:0!=We.length?We:[e]}).then(function(e){e&&1===e.status&&(We=[],ae.a.success("\u5220\u9664\u6210\u529f"),a.getStoreList(a.state.page))})},a.toDetail=function(e){a.props.setStoreInfo(e),ce.saveSessionStorage("storeInfo",e),a.props.history.push({pathname:"/storeInfo/order/"+e.id})},a.toProductList=function(e){a.props.setStoreInfo(e),ce.saveSessionStorage("storeInfo",e),a.props.history.push({pathname:"/storeInfo/product/"+e.id})},a.getStoreList=function(e,t){be.post("/store/StoreList",{page:e,keywords:t&&t.keys,status:t&&t.store_status}).then(function(e){e&&1===e.status&&(ce.each(e.data.data,function(e){e.create_time=0<e.create_time?se()(1e3*e.create_time).format("YYYY-MM-DD"):""}),a.props.setStoreList(e.data),a.setState({storeList:e.data,selectedRowKeys:[]}))})},a.switchChange=function(e,t){be.post("/store/storestatusSet",{type:0<We.length?2:1,status:e?1:-1,ids:We,id:a.state.storeList.data[t].id}).then(function(e){e&&1===e.status&&(We=[],a.props.form.validateFields(function(e,t){e||a.getStoreList(a.state.page,t)}))})},a.onSelectChange=function(e,t){We=[],ce.each(t,function(e){We.push(e.id)}),a.setState({selectedRowKeys:e})},a.changePage=function(e){a.setState({page:e.current}),a.getStoreList(e.current)},a}return Object(p.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.props.storeList?this.setState({storeList:this.props.storeList,selectedRowKeys:[]}):this.getStoreList(1)}},{key:"render",value:function(){var e=this.props.form.getFieldDecorator,t={selectedRowKeys:this.state.selectedRowKeys,onChange:this.onSelectChange};return i.a.createElement("div",{className:"shadow-radius"},i.a.createElement("div",{className:"table-head flxacen",style:Ge.btn},i.a.createElement("div",{className:"search_box"},i.a.createElement(Le.a,{layout:"inline"},i.a.createElement(ze,null,e("keys",{})(i.a.createElement(Me.a,{placeholder:"\u6309\u5e97\u94fa\u540d\u79f0/\u5e97\u94faID/\u5e97\u94fa\u5730\u5740\u641c\u7d22",style:{width:250}}))),i.a.createElement(ze,null,e("store_status",{})(i.a.createElement(re.a,{style:{width:120},placeholder:"\u5e97\u94fa\u72b6\u6001"},i.a.createElement(Ve,{value:null},"\u5168\u90e8"),i.a.createElement(Ve,{value:"1"},"\u5df2\u542f\u7528"),i.a.createElement(Ve,{value:"0"},"\u5df2\u7981\u7528"),i.a.createElement(Ve,{value:"2"},"\u5f85\u5ba1\u6838"),i.a.createElement(Ve,{value:"-1"},"\u5ba1\u6838\u5931\u8d25"))))),i.a.createElement(W.a,{type:"primary",onClick:this.searchKeys},"\u63d0\u4ea4")),i.a.createElement(W.a,{type:"primary",onClick:this.showModal,href:"#/storeAdd"},"\u6dfb\u52a0\u5206\u5e97")),i.a.createElement(ee.a,{rowKey:function(e){return e.id},rowSelection:t,onChange:this.changePage,pagination:{total:this.state.storeList.total,current:this.state.page},columns:this.state.columns,dataSource:this.state.storeList.data}))}}]),t}(i.a.Component),Ge={btn:{marginBottom:"20px"}},Je=Object(f.b)(function(e){return e},function(e){return{setStoreList:function(t){e(pe(t))},setStoreInfo:function(t){e(ve(t))}}})(Object(v.g)(Le.a.create()($e))),Xe=(a(562),a(286)),Qe=a.n(Xe),Ze=Le.a.Item,et=Qe.a.RangePicker,tt=re.a.Option,at=[{width:"5%",dataIndex:"key",align:"center"},{width:"15.8%"},{width:"10%"},{width:"15%"},{width:"15%"},{width:"10%",dataIndex:"totalAll",render:function(e){return"\xa5"+e+"\u5143"}},{width:"10%"},{width:"10%"},{width:"10%"}],nt=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(m.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={total:[{key:"\u5408\u8ba1",totalAll:"0",render:!1}],data:{total:0,list:[]},date:[],datePlaceholder:["\u8bf7\u9009\u62e9\u5f00\u59cb\u65e5\u671f","\u8bf7\u9009\u62e9\u7ed3\u675f\u65e5\u671f"],columns:[{title:"\u5e8f\u53f7",dataIndex:"",width:"5%",align:"center",render:function(e,t,a){return a+1}},{title:"\u63d0\u73b0\u5e97\u94fa",dataIndex:"store_name",width:"15%"},{title:"\u63d0\u73b0ID",dataIndex:"id",width:"10%"},{title:"\u63d0\u73b0\u5355\u53f7",dataIndex:"order_no",width:"15%"},{title:"\u63d0\u73b0\u65f6\u95f4",dataIndex:"create_at",width:"15%",render:function(e){return se()(1e3*e).format("YYYY/MM/DD HH:mm:ss")}},{title:"\u63d0\u73b0\u91d1\u989d",dataIndex:"money",width:"10%",render:function(e){return"\xa5"+e+"\u5143"}},{title:"\u63d0\u73b0\u8d26\u53f7",dataIndex:"alipay_account",width:"10%",render:function(e){return e}},{title:"\u8d26\u6237\u7c7b\u578b",width:"10%",render:function(e){return"\u652f\u4ed8\u5b9d\u8d26\u53f7"}},{title:"\u72b6\u6001",dataIndex:"code",width:"10%",render:function(e){return 1e4==e?"\u5df2\u63d0\u73b0":"\u63d0\u73b0\u5931\u8d25"}}]},a.getOrderList=function(e,t){be.post("/Statistics/tixian_record",{page:e,start_time:t&&t.date&&t.date[0]&&se()(t.date[0]).startOf("day").unix(),end_time:t&&t.date&&t.date[1]&&se()(t.date[1]).endOf("day").unix(),size:10,id:t&&t.store_id,keywords:t&&t.keys}).then(function(e){if(e&&1==e.status){var t=0;ce.each(e.data.list,function(e){t+=parseFloat(e.money)});var n=[{key:"\u5408\u8ba1",totalAll:t=t.toFixed(2),render:0<e.data.list.length}];a.setState({data:e.data,total:n})}else ae.a.error(e.msg)})},a.changePage=function(e){a.setState({page:e.current}),a.props.form.validateFields(function(t,n){t||a.getOrderList(e.current,n)})},a.searchKeys=function(e){a.setState({page:1}),a.props.form.validateFields(function(e,t){e||a.getOrderList(1,t)})},a.componentDidMount=function(){a.getOrderList(1,{date:a.state.date})},a.getSubInfo=function(e,t,a,n){var r="";return 0==e.detail.length&&(e.detail[0]={store_name:e.store_name,money:e.money,id:e.id,create_time:e.create_at}),e.detail.map(function(e){r+="<div>\u88ab\u63d0\u73b0\u5e97\u94fa:"+e.store_name+"=>  \u63d0\u73b0\u91d1\u989d: "+Math.abs(e.money)+"\u5143</div>"}),i.a.createElement("div",{dangerouslySetInnerHTML:{__html:r}})},a}return Object(p.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e,t=this.props.form.getFieldDecorator,a=this.state.data,n=(this.props.storeList?this.props.storeList:ce.getSessionStorage("storeList")).data.map(function(e){return i.a.createElement(tt,{value:e.id,key:e.store_name},e.store_name)});return e=this.state.total[0].render?i.a.createElement(ee.a,{style:rt.tab,columns:at,dataSource:this.state.total,showHeader:!1,pagination:!1}):i.a.createElement("span",null),i.a.createElement("div",{className:"shadow-radius"},i.a.createElement("div",{className:"table-head mabot20"},i.a.createElement("div",{className:"search_box"},i.a.createElement(Le.a,{layout:"inline"},i.a.createElement(Ze,null,t("store_id",{})(i.a.createElement(re.a,{showSearch:!0,style:{width:200},className:"search_item",placeholder:"\u8bf7\u9009\u62e9\u95e8\u5e97",optionFilterProp:"children",filterOption:function(e,t){return 0<=t.props.children.toLowerCase().indexOf(e.toLowerCase())}},i.a.createElement(tt,{value:""},"\u5168\u90e8"),n))),i.a.createElement(Ze,null,t("keys",{})(i.a.createElement(Me.a,{placeholder:"\u63d0\u73b0ID/\u63d0\u73b0\u8d26\u53f7",style:{width:160}}))),i.a.createElement(Ze,null,t("date",{})(i.a.createElement(et,{placeholder:this.state.datePlaceholder,format:"YYYY-MM-DD"})))),i.a.createElement(W.a,{type:"primary",onClick:this.searchKeys},"\u63d0\u4ea4"))),i.a.createElement(ee.a,{expandedRowRender:this.getSubInfo,columns:this.state.columns,rowKey:function(e){return e.id},onChange:this.changePage,pagination:{total:this.state.data.total,current:this.state.page},dataSource:a.list,footer:function(){return i.a.createElement("div",{className:"disflx flxacen wdp100"},e)}}))}}]),t}(i.a.Component),rt={tab:{width:"100%"}},ot=Object(f.b)(function(e){return e},function(e){return{setWithDrawDetail:function(t){e(function(e){return{type:H,data:e}}(t))}}})(Object(v.g)(Le.a.create()(nt))),st=(a(595),a(106)),it=a.n(st),lt=(a(215),a(65)),ct=a.n(lt),ut=(a(140),a(80)),dt=a.n(ut),mt=(a(251),a(134)),ht=a.n(mt),pt=(a(599),a(287)),ft=a.n(pt),gt=window.AMap,vt=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(m.a)(this,Object(h.a)(t).call(this,e))).state={dataSource:[],value:"",dataMap:[]},a.onChange=function(e){e&&a.getMap(e)},a.onSelect=function(e,t){ce.each(a.state.dataMap,function(t){e===t.name+"("+t.address+")"&&a.setState({value:t})})},a.hideBox=function(e){a.props.setMapModal(!1)},a.saveAddress=function(e){a.props.setAddress(a.state.value),a.props.setMapModal(!1),a.props.onClicked(a.state.value)},a.getMap=function(e){Ee&&Ee.view||(Ee=new gt.Map("container",{resizeEnable:!0})),a.searchMap(e)},a}return Object(p.a)(t,e),Object(d.a)(t,[{key:"searchMap",value:function(e){var t=this;Ee.clearMap(),gt.service(["AMap.PlaceSearch"],function(){new gt.PlaceSearch({pageSize:7,pageIndex:1,city:Ee.getAdcode(),citylimit:!0,map:Ee,autoFitView:!0}).search(e,function(e,a){if("complete"===e&&"OK"===a.info){for(var n=[],r=0;r<=a.poiList.pois.length-1;r++)n.push(a.poiList.pois[r].name+"("+a.poiList.pois[r].address+")");t.setState({dataSource:n,dataMap:a.poiList.pois})}})})}},{key:"componentDidMount",value:function(){Ee=new gt.Map("container",{resizeEnable:!0}),setTimeout(function(){Ee&&Ee.view||(Ee=new gt.Map("container",{resizeEnable:!0}))},500)}},{key:"render",value:function(){var e=this.state.dataSource;return i.a.createElement("div",{style:{left:this.props.mapState?"0":"100%"},className:"wdp100 posfix left0 top0 hep100 bga4 disflx flxcen zix1000 trl02"},i.a.createElement("div",{className:"wd900 he600 bgfff radius10 pd20"},i.a.createElement("div",{className:"disflx flxbet"},i.a.createElement("div",{className:"posrea"},i.a.createElement(ft.a,{dataSource:e,style:{width:400},onSelect:this.onSelect,onChange:this.onChange,placeholder:"\u8f93\u5165\u5730\u5740"}),i.a.createElement(W.a,{type:"primary",className:"malef10",onClick:this.saveAddress},"\u786e\u8ba4")),i.a.createElement(W.a,{onClick:this.hideBox},"\u5173\u95ed")),i.a.createElement("div",{id:"container",className:"map matop20",style:{width:"100%",height:"500px"}})))}}]),t}(i.a.Component),yt=Object(f.b)(function(e){return e},function(e){return{setMapModal:function(t){e(he(t))},setAddress:function(t){e(fe(t))}}})(vt),Et=re.a.Option,wt=/^1[3456789]\d{9}$/;function bt(e){var t="image/jpeg"===e.type||"image/png"===e.type;t||ae.a.error("You can only upload JPG/PNG file!");var a=e.size/1024/1024<2;return a||ae.a.error("Image must smaller than 2MB!"),t&&a}function St(e){return{type:D,data:e}}function xt(e){return{type:T,data:e}}function It(e){return{type:M,data:e}}function Ot(e){return i.a.createElement(i.a.Fragment,null,i.a.createElement(ua.a,{title:e.title,placement:"right",closable:e.closable,onClose:e.onClose,visible:e.visible},i.a.createElement("p",{style:da},i.a.createElement("span",null,"\u4e3b\u9898\u5207\u6362")," ",i.a.createElement(je.a,{checkedChildren:"\u6697",unCheckedChildren:"\u4eae",defaultChecked:"dark"===e.theme.type,onChange:e.onChangeTheme})),i.a.createElement("p",{style:da},i.a.createElement("span",null,"\u9762\u5305\u5c51")," ",i.a.createElement(je.a,{defaultChecked:e.breadCrumb.show,onChange:e.onChangeBreadCrumb})),i.a.createElement("p",{style:da},i.a.createElement("span",null,"\u591a\u9875\u7b7e")," ",i.a.createElement(je.a,{defaultChecked:e.tags.show,onChange:e.onChangeTags}))))}function _t(){return i.a.createElement(g.a,null,i.a.createElement(v.d,null,i.a.createElement(v.b,{component:Ma,exact:!0,path:"/login"}),i.a.createElement(Aa,{path:"/",component:ja})))}var Ct,kt=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(m.a)(this,Object(h.a)(t).call(this,e))).state={confirmDirty:!1,loading:!1,IDContrary:{imgUrl:"",loading:!1},licensing:{imgUrl:"",loading:!1},IDFront:{imgUrl:"",loading:!1},license:{imgUrl:"",loading:!1},value:1,is_withdraw:1,is_selfDestructive:2,num:60},a.showMap=function(e){a.props.setMapModal(!0)},a.IDContraryChange=function(e){a.changeImagesStatus(e,"IDContrary")},a.licensingChange=function(e){a.changeImagesStatus(e,"licensing")},a.IDFrontChange=function(e){a.changeImagesStatus(e,"IDFront")},a.licenseChange=function(e){a.changeImagesStatus(e,"license")},a.changeImagesStatus=function(e,t){var n=a.state[t];if("uploading"===e.file.status)return n.loading=!0,void a.setState(Object(Q.a)({},t,n));"done"===e.file.status&&function(e,t){var a=new FileReader;a.addEventListener("load",function(){return t(a.result)}),a.readAsDataURL(e)}(e.file.originFileObj,function(e){n.imageUrl=e,n.loading=!1,a.setState(Object(Q.a)({},t,n))})},a.onChangeState=function(e){a.props.form.setFieldsValue({store_address:e.name+"("+e.address+")"})},a.addStore=function(e){a.props.form.validateFields(function(e,t){e||(wt.test(t.mobile)?(t.province=a.props.storeAddress.pname,t.city=a.props.storeAddress.cityname,t.area=a.props.storeAddress.adname,t.address=a.props.storeAddress.address,t.lng=a.props.storeAddress.location.lng,t.lat=a.props.storeAddress.location.lat,t.id_back=t.id_back.file.response.data.src,t.id_front=t.id_front.file.response.data.src,t.business_img=t.business_img.file.response.data.src,t.brand_img=t.brand_img.file.response.data.src,be.post("/index/register",t).then(function(e){e&&1==e.status?(a.props.setAddress({}),a.props.history.push("/storeList")):ae.a.error(e.msg)})):ae.a.error("\u8bf7\u8f93\u5165\u6b63\u786e\u7684\u624b\u673a\u53f7"))})},a.sendCode=function(e){clearInterval(we),wt.test(a.props.form.getFieldValue("mobile"))?be.post("/index/getVerifyCode",{mobile:a.props.form.getFieldValue("mobile"),mobile_type:0}).then(function(e){e&&1==e.status?we=setInterval(function(){a.state.num--,a.state.num<=0?(clearInterval(we),a.setState({num:60})):a.setState({num:a.state.num})},1e3):ae.a.error(e.msg)}):ae.a.error("\u8bf7\u8f93\u5165\u6b63\u786e\u7684\u624b\u673a\u53f7\u7801")},a.handleNormal=function(e){},a}return Object(p.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this.props.form.getFieldDecorator,t=i.a.createElement("div",null,i.a.createElement(b.a,{type:this.state.IDContrary.loading?"loading":"plus"}),i.a.createElement("div",{className:"ant-upload-text"},"Upload")),a=i.a.createElement("div",null,i.a.createElement(b.a,{type:this.state.licensing.loading?"loading":"plus"}),i.a.createElement("div",{className:"ant-upload-text"},"Upload")),n=i.a.createElement("div",null,i.a.createElement(b.a,{type:this.state.IDFront.loading?"loading":"plus"}),i.a.createElement("div",{className:"ant-upload-text"},"Upload")),r=i.a.createElement("div",null,i.a.createElement(b.a,{type:this.state.license.loading?"loading":"plus"}),i.a.createElement("div",{className:"ant-upload-text"},"Upload"));return i.a.createElement("div",{className:"shadow-radius he702 ofy"},i.a.createElement("div",{className:"public-title"},i.a.createElement("h1",null,"\u5e97\u94fa\u4fe1\u606f")),i.a.createElement(Le.a,{labelCol:{sm:{span:2}},wrapperCol:{sm:{span:9}}},i.a.createElement(Le.a.Item,{label:"\u5e97\u94fa\u540d\u79f0"},e("store_name",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u5e97\u94fa\u540d\u79f0",whitespace:!0}]})(i.a.createElement(Me.a,{placeholder:"\u8bf7\u8f93\u5165\u5e97\u94fa\u540d\u79f0"}))),i.a.createElement(Le.a.Item,{label:"\u54c1\u724c\u540d\u79f0"},e("brand_name",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u54c1\u724c\u540d\u79f0",whitespace:!0}]})(i.a.createElement(Me.a,{placeholder:"\u8bf7\u8f93\u5165\u54c1\u724c\u540d\u79f0"}))),i.a.createElement(Le.a.Item,{label:"\u884c\u4e1a\u7c7b\u522b"},e("category_id",{rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u7c7b\u522b"}]})(i.a.createElement(re.a,{showSearch:!0,style:{width:200},placeholder:"\u8bf7\u9009\u62e9\u7c7b\u522b",optionFilterProp:"children",onChange:this.onChange,onFocus:this.onFocus,onBlur:this.onBlur,onSearch:this.onSearch,filterOption:function(e,t){return 0<=t.props.children.toLowerCase().indexOf(e.toLowerCase())}},i.a.createElement(Et,{value:"1"},"\u65f6\u5c1a\u54c1\u8d28"),i.a.createElement(Et,{value:"2"},"\u978b\u5305\u914d\u9970"),i.a.createElement(Et,{value:"3"},"\u8d28\u611f\u7537\u88c5"),i.a.createElement(Et,{value:"4"},"\u7f8e\u5986\u62a4\u80a4"),i.a.createElement(Et,{value:"5"},"\u79c1\u4eba\u8ba2\u5236"),i.a.createElement(Et,{value:"6"},"\u63a8\u8350")))),i.a.createElement("div",{className:"disflx"},i.a.createElement("div",{className:"ant-col ant-form-item-label ant-col-sm-2"},i.a.createElement("label",{className:"ant-form-item-required"},"\u8425\u4e1a\u65f6\u95f4")),i.a.createElement(Le.a.Item,null,e("business_start_time",{initialValue:se()("09:00:00","HH:mm:ss")})(i.a.createElement(ht.a,{defaultOpenValue:se()("00:00:00","HH:mm:ss"),style:{width:"150px"},placeholder:"\u8bf7\u9009\u62e9\u5f00\u5e97\u65f6\u95f4"}))),i.a.createElement(Le.a.Item,null,e("business_end_time",{initialValue:se()("21:00:00","HH:mm:ss")})(i.a.createElement(ht.a,{defaultOpenValue:se()("00:00:00","HH:mm:ss"),style:{width:"150px",marginLeft:"10px"},placeholder:"\u8bf7\u9009\u62e9\u95ed\u5e97\u65f6\u95f4"})))),i.a.createElement(Le.a.Item,{label:"\u5e97\u94fa\u63cf\u8ff0"},e("description",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u5e97\u94fa\u63cf\u8ff0",whitespace:!0}]})(i.a.createElement(Me.a.TextArea,{placeholder:"\u8bf7\u8f93\u5165\u5e97\u94fa\u63cf\u8ff0"}))),i.a.createElement(Le.a.Item,{label:"\u5e97\u94fa\u5730\u5740"},e("store_address",{rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u5e97\u94fa\u5730\u5740",whitespace:!0}]})(i.a.createElement("div",null,i.a.createElement("div",null,this.props.storeAddress?this.props.storeAddress.name+"("+this.props.storeAddress.address+")":""),i.a.createElement(W.a,{onClick:this.showMap,type:"primary"},this.props.storeAddress?"\u91cd\u65b0\u9009\u62e9":"\u9009\u62e9\u5730\u5740")))),i.a.createElement(Le.a.Item,{label:i.a.createElement("span",null,"\u662f\u5426\u652f\u6301\u81ea\u53d6\xa0",i.a.createElement(dt.a,{title:"\u5546\u54c1\u7ebf\u4e0a\u4e0b\u5355\u7ebf\u4e0b\u81ea\u53d6"},i.a.createElement(b.a,{type:"question-circle-o"})))},e("is_ziqu",{initialValue:1,rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u662f\u5426\u652f\u6301\u81ea\u53d6"}]})(i.a.createElement(ct.a.Group,null,i.a.createElement(ct.a,{value:1},"\u662f"),i.a.createElement(ct.a,{value:0},"\u5426")))),i.a.createElement(Le.a.Item,{label:i.a.createElement("span",null,"\u662f\u5426\u95e8\u5e97\u53ef\u63d0\u73b0\xa0",i.a.createElement(dt.a,{title:"\u95e8\u5e97\u662f\u5426\u53ef\u4ee5\u81ea\u4e3b\u63d0\u73b0"},i.a.createElement(b.a,{type:"question-circle-o"})))},e("is_tixian",{initialValue:1,rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u8be5\u95e8\u5e97\u662f\u5426\u53ef\u63d0\u73b0"}]})(i.a.createElement(ct.a.Group,null,i.a.createElement(ct.a,{value:1},"\u662f"),i.a.createElement(ct.a,{value:0},"\u5426")))),i.a.createElement(Le.a.Item,{label:"\u5e97\u94fa\u8054\u7cfb\u4eba\u59d3\u540d"},e("user_name",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u8054\u7cfb\u4eba\u59d3\u540d"}]})(i.a.createElement(Me.a,{style:{width:"100%"},placeholder:"\u8bf7\u8f93\u5165\u8054\u7cfb\u4eba\u59d3\u540d"}))),i.a.createElement(Le.a.Item,{label:"\u5e97\u94fa\u8054\u7cfb\u4eba\u7535\u8bdd"},e("telephone",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u8054\u7cfb\u4eba\u7535\u8bdd"}]})(i.a.createElement(Me.a,{style:{width:"100%"},placeholder:"\u8bf7\u8f93\u5165\u8054\u7cfb\u4eba\u7535\u8bdd"}))),i.a.createElement(Le.a.Item,{label:i.a.createElement("span",null,"\u5206\u5e97\u767b\u5f55\u624b\u673a\u53f7\xa0",i.a.createElement(dt.a,{title:"\u8be5\u624b\u673a\u53f7\u7801\u7528\u4e8e\u5206\u5e97\u767b\u5f55\u5206\u5e97\u540e\u53f0"},i.a.createElement(b.a,{type:"question-circle-o"})))},e("mobile",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u5206\u5e97\u767b\u5f55\u624b\u673a\u53f7"}]})(i.a.createElement(Me.a,{style:{width:"80%",marginRight:"10px"},placeholder:"\u8bf7\u8f93\u5165\u5206\u5e97\u767b\u5f55\u624b\u673a\u53f7"})),i.a.createElement(W.a,{type:"primary",onClick:this.state.num<60?this.handleNormal:this.sendCode,disabled:this.state.num<60},this.state.num<60?this.state.num:"\u83b7\u53d6\u9a8c\u8bc1\u7801")),i.a.createElement(Le.a.Item,{label:"\u9a8c\u8bc1\u7801"},e("code",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u9a8c\u8bc1\u7801",whitespace:!0}]})(i.a.createElement(Me.a,{placeholder:"\u8bf7\u8f93\u5165\u9a8c\u8bc1\u7801"}))),i.a.createElement(Le.a.Item,{label:"\u54c1\u724c\u6388\u6743\u4e66",hasFeedback:!0},e("brand_img",{valuePropName:"image",getValueFromEvent:this.normFile,rules:[{required:!0,message:"\u8bf7\u4e0a\u4f20\u54c1\u724c\u6388\u6743\u4e66"}]})(i.a.createElement(it.a,{listType:"picture-card",className:"avatar-uploader",showUploadList:!1,action:"http://wx.supersg.cn/mainstore/index/uploadFile",beforeUpload:bt,onChange:this.licensingChange},this.state.licensing.imageUrl?i.a.createElement("img",{src:this.state.licensing.imageUrl,alt:"brand_licensing",style:{width:"100%"}}):a))),i.a.createElement(Le.a.Item,{label:"\u5e97\u94fa\u8425\u4e1a\u6267\u7167",hasFeedback:!0},e("business_img",{valuePropName:"image",getValueFromEvent:this.normFile,rules:[{required:!0,message:"\u8bf7\u4e0a\u4f20\u8425\u4e1a\u6267\u7167"}]})(i.a.createElement(it.a,{listType:"picture-card",className:"avatar-uploader",showUploadList:!1,action:"http://wx.supersg.cn/mainstore/index/uploadFile",beforeUpload:bt,onChange:this.licenseChange},this.state.license.imageUrl?i.a.createElement("img",{src:this.state.license.imageUrl,alt:"business_license",style:{width:"100%"}}):r))),i.a.createElement(Le.a.Item,{label:"\u6cd5\u4eba\u8eab\u4efd\u8bc1\u6b63\u9762",hasFeedback:!0},e("id_front",{valuePropName:"image",getValueFromEvent:this.normFile,rules:[{required:!0,message:"\u8bf7\u4e0a\u4f20\u6cd5\u4eba\u8eab\u4efd\u8bc1\u6b63\u9762"}]})(i.a.createElement(it.a,{listType:"picture-card",className:"avatar-uploader",showUploadList:!1,action:"http://wx.supersg.cn/mainstore/index/uploadFile",beforeUpload:bt,onChange:this.IDFrontChange},this.state.IDFront.imageUrl?i.a.createElement("img",{src:this.state.IDFront.imageUrl,alt:"avaID_fronttar",style:{width:"100%"}}):n))),i.a.createElement(Le.a.Item,{label:"\u6cd5\u4eba\u8eab\u4efd\u8bc1\u53cd\u9762",hasFeedback:!0},e("id_back",{valuePropName:"image",getValueFromEvent:this.normFile,rules:[{required:!0,message:"\u8bf7\u4e0a\u4f20\u6cd5\u4eba\u8eab\u4efd\u8bc1\u53cd\u9762"}]})(i.a.createElement(it.a,{listType:"picture-card",className:"avatar-uploader",showUploadList:!1,action:"http://wx.supersg.cn/mainstore/index/uploadFile",beforeUpload:bt,onChange:this.IDContraryChange},this.state.IDContrary.imageUrl?i.a.createElement("img",{src:this.state.IDContrary.imageUrl,alt:"ID_contrary",style:{width:"100%"}}):t))),i.a.createElement(Le.a.Item,{wrapperCol:{sm:{span:2,offset:2}}},i.a.createElement(W.a,{type:"primary",htmlType:"submit",onClick:this.addStore},"\u786e\u8ba4"))),i.a.createElement(yt,{onClicked:this.onChangeState.bind(this)}))}}]),t}(i.a.Component),jt=Object(f.b)(function(e){return e},function(e){return{setMapModal:function(t){e(he(t))},setAddress:function(t){e(fe(t))}}})(Object(v.g)(Le.a.create()(kt))),Nt=(a(648),a(192)),Lt=a.n(Nt),Ft=(a(275),a(135)),Dt=a.n(Ft),Tt=re.a.Option,Mt=Le.a.Item,Pt=[],At=[{title:"\u8ba2\u5355\u7f16\u53f7",dataIndex:"order_no",width:"6%"},{title:"\u5546\u54c1\u7f16\u53f7",dataIndex:"product_id",width:"6%"},{title:"\u5546\u54c1\u4e3b\u56fe",width:"8%",render:function(e){var t=i.a.createElement("img",{src:"http://wx.supersg.cn"+e.cover,alt:"",className:"wd400"});return i.a.createElement(Dt.a,{trigger:"hover",content:t,placement:"rightTop"},i.a.createElement("img",{src:"http://wx.supersg.cn"+e.cover,alt:"",className:"wd40"}))}},{title:"\u5546\u54c1\u540d\u79f0",dataIndex:"product_name",width:"6%"},{title:"\u6570\u91cf",dataIndex:"number",width:"5%"},{title:"\u5546\u54c1\u89c4\u683c",dataIndex:"product_specs",width:"6%"},{title:"\u9500\u552e\u989d",dataIndex:"total",width:"6%",render:function(e){return"\xa5"+e+"\u5143"}},{title:"\u5e97\u94fa\u4f18\u60e0",dataIndex:"store_coupon",width:"6%",render:function(e){return"\xa5"+e+"\u5143"}},{title:"\u5e73\u53f0\u8865\u8d34",dataIndex:"coupon_money",width:"6%",render:function(e){return"\xa5"+e+"\u5143"}},{title:"\u5b9e\u6536\u6b3e",dataIndex:"pay_money",width:"6%",render:function(e){return"\xa5"+e+"\u5143"}},{title:"\u4e70\u5bb6\u4fe1\u606f",dataIndex:"userInfo",width:"10%"},{title:"\u4e0b\u5355\u65f6\u95f4",dataIndex:"create_time",width:"9%"},{title:"\u5b8c\u6210\u65f6\u95f4",dataIndex:"finish_time",width:"9%"},{title:"\u8ba2\u5355\u72b6\u6001",dataIndex:"order_status",width:"6%",render:function(e){return 1==e?"\u5f85\u4ed8\u6b3e":2==e?"\u5f85\u56e2\u8d2d":3==e?"\u5f85\u53d1\u8d27":4==e?"\u5f85\u6536\u8d27":5==e?"\u5f85\u8bc4\u4ef7":6==e?"\u5df2\u5b8c\u6210":-1==e?"\u5df2\u53d6\u6d88":"\u552e\u540e"}}],Rt=[{width:"5%",dataIndex:"key",align:"center"},{width:"6%"},{width:"6%"},{width:"8%"},{width:"6%"},{width:"5%"},{width:"6%"},{width:"6%",dataIndex:"saleTotal",render:function(e){return"\xa5"+e+"\u5143"}},{width:"6%"},{width:"6%"},{width:"6%"},{width:"10%"},{width:"9%"},{width:"9%"},{width:"6%"}],Ut=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(m.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={total:[{key:"\u5408\u8ba1",saleTotal:"0",render:!1}],page:1,orderList:{list:[],total:0},storeInfo:{},status:"0",selectedRowKeys:[]},a.getOrderList=function(e,t){be.post("/order/orderList",{page:e||a.state.page,size:10,status:t.order_type,keywords:t.keys,id:a.state.storeInfo.id}).then(function(e){if(e&&1===e.status){var t=0;ce.each(e.data.list,function(e){t+=parseFloat(e.price)*parseFloat(e.number),e.total=parseFloat(e.price)*parseFloat(e.number),e.product_specs=e.product_specs.substr(0,e.product_specs.length-1),e.product_specs=e.product_specs.substr(1,e.product_specs.length-1),e.userInfo=e.shouhuo_username+" "+e.shouhuo_mobile+" "+e.shouhuo_address,e.store_coupon=parseFloat(e.store_coupon_money)+parseFloat(e.product_coupon_money),e.create_time=0<e.create_time?se()(1e3*e.create_time).format("YYYY-MM-DD HH:mm:ss"):"",e.finish_time=0<e.finish_time?se()(1e3*e.finish_time).format("YYYY-MM-DD HH:mm:ss"):""});var n=[{key:"\u5408\u8ba1",saleTotal:t=t.toFixed(2),render:0<e.data.list.length}];a.setState({orderList:e.data,total:n,selectedRowKeys:[]})}})},a.changePage=function(e){a.setState({page:e.current}),a.props.form.validateFields(function(t,n){t||a.getOrderList(e.current,n)})},a.onSelectChange=function(e,t){Pt=[],ce.each(t,function(e){Pt.push(e.id)}),a.setState({selectedRowKeys:e})},a.searchKeys=function(e){a.setState({page:1}),a.props.form.validateFields(function(e,t){e||a.getOrderList(1,t)})},a.componentDidMount=function(){var e=a.props.storeInfo?a.props.storeInfo:ce.getSessionStorage("storeInfo");a.setState({storeInfo:e},function(){a.getOrderList(1,{})})},a}return Object(p.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e,t=this.state.selectedRowKeys,a=this.props.form.getFieldDecorator,n={selectedRowKeys:t,onChange:this.onSelectChange};e=this.state.total[0].render?i.a.createElement(ee.a,{style:qt.tab,columns:Rt,dataSource:this.state.total,showHeader:!1,pagination:!1}):i.a.createElement("span",null);var r=0!=this.state.selectedRowKeys.length?"http://wx.supersg.cn/mainstore/order/excel?id="+this.state.storeInfo.id+"&ids="+this.state.selectedRowKeys+"&type=1&status="+this.state.status:"",o="http://wx.supersg.cn/mainstore/order/excel?id="+this.state.storeInfo.id+"&ids="+this.state.selectedRowKeys+"&type=0&status="+this.state.status;return i.a.createElement("div",null,i.a.createElement("div",{className:"disflx flxbet flxacen mabot20"},i.a.createElement("div",{className:"search_box disflx flxacen"},i.a.createElement(Le.a,{layout:"inline"},i.a.createElement(Mt,null,a("order_type",{})(i.a.createElement(re.a,{showSearch:!0,style:{width:250},className:"search_item",placeholder:"\u5168\u90e8\u8ba2\u5355",optionFilterProp:"children",filterOption:function(e,t){return 0<=t.props.children.toLowerCase().indexOf(e.toLowerCase())}},i.a.createElement(Tt,{value:"0"},"\u5168\u90e8"),i.a.createElement(Tt,{value:"1"},"\u5f85\u4ed8\u6b3e"),i.a.createElement(Tt,{value:"3"},"\u5f85\u53d1\u8d27"),i.a.createElement(Tt,{value:"4"},"\u5f85\u6536\u8d27"),i.a.createElement(Tt,{value:"6"},"\u5df2\u5b8c\u6210"),i.a.createElement(Tt,{value:"5"},"\u5f85\u8bc4\u4ef7"),i.a.createElement(Tt,{value:"-1"},"\u5df2\u53d6\u6d88"),i.a.createElement(Tt,{value:"7"},"\u552e\u540e")))),i.a.createElement(Mt,null,a("keys",{})(i.a.createElement(Me.a,{placeholder:"\u6309\u5546\u54c1\u540d\u79f0/\u5546\u54c1\u7f16\u53f7/\u4e70\u5bb6\u4fe1\u606f/\u8ba2\u5355\u7f16\u53f7",style:{width:250}})))),i.a.createElement(W.a,{type:"primary",onClick:this.searchKeys},"\u63d0\u4ea4")),i.a.createElement("div",null,i.a.createElement(W.a,{type:"primary",className:"marig20",href:r,disabled:0==this.state.selectedRowKeys.length},"\u5bfc\u51fa"),i.a.createElement(W.a,{type:"primary",href:o},"\u5bfc\u51fa\u5168\u90e8"))),i.a.createElement(ee.a,{columns:At,rowSelection:n,onChange:this.changePage,pagination:{total:this.state.orderList.total,current:this.state.page},rowKey:function(e){return e.id},dataSource:this.state.orderList.list,footer:function(){return i.a.createElement("div",{className:"disflx flxacen wdp100"},e)}}))}}]),t}(i.a.Component),qt={tab:{width:"100%"}},Kt=Object(f.b)(function(e){return e})(Object(v.g)(Le.a.create()(Ut))),Ht=re.a.Option,Bt=Le.a.Item,Yt="YYYY-MM-DD HH:mm:ss",zt=[{title:"\u5546\u54c1\u7f16\u53f7",dataIndex:"id"},{title:"\u5546\u54c1\u4e3b\u56fe",render:function(e){var t=i.a.createElement("img",{src:"http://wx.supersg.cn"+e.product_img,alt:"",className:"wd400"});return i.a.createElement(Dt.a,{trigger:"hover",content:t,placement:"rightTop"},i.a.createElement("img",{src:"http://wx.supersg.cn"+e.product_img,alt:"",className:"wd40"}))}},{title:"\u5546\u54c1\u540d\u79f0",dataIndex:"product_name"},{title:"\u5546\u54c1\u89c4\u683c",dataIndex:"product_specs"},{title:"\u5e93\u5b58\u91cf",dataIndex:"stock"},{title:"\u603b\u9500\u91cf",dataIndex:"sales"},{title:"\u4ef7\u683c",dataIndex:"price",render:function(e){return"\xa5"+e+"\u5143"}},{title:"\u4e0a\u67b6\u65f6\u95f4",dataIndex:"shangjia_time"},{title:"\u4e0b\u67b6\u65f6\u95f4",dataIndex:"xiajia_time"},{title:"\u5546\u54c1\u72b6\u6001",dataIndex:"status",render:function(e){return 1==e?"\u4e0a\u67b6\u4e2d":"\u5df2\u4e0b\u67b6"}}],Vt=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(m.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={page:1,productList:{list:[],total:0},storeInfo:{},status:0},a.getProductList=function(e,t){be.post("/product/productList",{id:a.state.storeInfo.id,page:e||a.state.page,size:10,keywords:t?t.keywords:a.state.keywords,status:t?t.status:a.state.status}).then(function(e){e&&1===e.status&&(ce.each(e.data.list,function(e){e.xiajia_time=0<e.xiajia_time?se()(1e3*e.xiajia_time).format(Yt):"",e.shangjia_time=0<e.shangjia_time?se()(1e3*e.shangjia_time).format(Yt):""}),a.setState({productList:e.data}))})},a.searchKeys=function(e){a.setState({page:1}),a.props.form.validateFields(function(e,t){e||a.getProductList(1,t)})},a.changeStatus=function(e){a.setState({status:e})},a.changePage=function(e){a.setState({page:e.current}),a.getProductList(e.current)},a.componentDidMount=function(){var e=a.props.storeInfo?a.props.storeInfo:ce.getSessionStorage("storeInfo");a.setState({storeInfo:e},function(){a.getProductList(0)})},a}return Object(p.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.props.form.getFieldDecorator;return i.a.createElement("div",null,i.a.createElement("div",{className:"disflx flxbet mabot20"},i.a.createElement("div",{className:"disflx flxacen"},i.a.createElement(Le.a,{layout:"inline"},i.a.createElement(Bt,null,e("keywords",{})(i.a.createElement(Me.a,{placeholder:"\u5546\u54c1\u7f16\u53f7/\u5546\u54c1\u540d\u79f0",style:{width:160}}))),i.a.createElement(Bt,null,e("status",{})(i.a.createElement(re.a,{style:{width:120},placeholder:"\u5546\u54c1\u72b6\u6001",onChange:this.changeStatus},i.a.createElement(Ht,{value:"0"},"\u5168\u90e8"),i.a.createElement(Ht,{value:"1"},"\u4e0a\u67b6\u4e2d"),i.a.createElement(Ht,{value:"-1"},"\u5df2\u4e0b\u67b6"))))),i.a.createElement(W.a,{type:"primary",className:"malef20",onClick:this.searchKeys},"\u63d0\u4ea4"))),i.a.createElement(ee.a,{columns:zt,pagination:{total:this.state.productList.total,current:this.state.page},onChange:this.changePage,rowKey:function(e){return e.id},dataSource:this.state.productList.list}))}}]),t}(i.a.Component),Wt=Object(f.b)(function(e){return e})(Object(v.g)(Le.a.create()(Vt))),$t=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(m.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={storeInfo:{},storeData:{}},a.getSaleData=function(e){be.post("/store/StoreManagement",{id:a.state.storeInfo.id}).then(function(e){e&&1===e.status&&a.setState({storeData:e.data})})},a.componentDidMount=function(e){var t=a.props.storeInfo?a.props.storeInfo:ce.getSessionStorage("storeInfo");a.setState({storeInfo:t},function(){a.getSaleData()})},a}return Object(p.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.state.storeData;return i.a.createElement("div",{className:"disflx flxbet flxwap"},i.a.createElement("div",{className:"wdp49 marig20 mabot20 pd20 boxsize bgf5f radius10"},i.a.createElement("div",{className:"f48 mabot20 cor333"},"\u8ba2\u5355\u6570"),i.a.createElement("div",{className:"disflx flxard txtcen f40"},i.a.createElement("div",null,i.a.createElement("div",{className:"f34"},e.today_orders),i.a.createElement("div",null,"\u4eca\u65e5\u8ba2\u5355")),i.a.createElement("div",null,i.a.createElement("div",{className:"f34"},e.total_orders),i.a.createElement("div",null,"\u603b\u8ba2\u5355")))),i.a.createElement("div",{className:"wdp49 mabot20 pd20 boxsize bgf5f radius10"},i.a.createElement("div",{className:"f48 mabot20 cor333"},"\u53ef\u63d0\u73b0\u6536\u76ca\uff08\u4ea4\u6613\u5df2\u5b8c\u6210\uff09"),i.a.createElement("div",{className:"f44 txtcen "},"\xa5",e.allow_tixian_income)),i.a.createElement("div",{className:"wdp49 marig20 mabot20 pd20 boxsize bgf5f radius10"},i.a.createElement("div",{className:"f48 mabot20 cor333"},"\u4eca\u65e5\u6536\u76ca"),i.a.createElement("div",{className:"disflx flxard txtcen f40"},i.a.createElement("div",null,i.a.createElement("div",{className:"f34"},"\xa5",e.today_sales_money),i.a.createElement("div",null,"\u9500\u552e\u989d")),i.a.createElement("div",null,i.a.createElement("div",{className:"f34"},"\xa5",e.today_subsidy),i.a.createElement("div",null,"\u5e73\u53f0\u8865\u8d34")),i.a.createElement("div",null,i.a.createElement("div",{className:"f34"},"\xa5",e.today_real_income),i.a.createElement("div",null,"\u5b9e\u6536\u6b3e")))),i.a.createElement("div",{className:"wdp49 mabot20 pd20 boxsize bgf5f radius10"},i.a.createElement("div",{className:"f48 mabot20 cor333"},"\u603b\u6536\u76ca"),i.a.createElement("div",{className:"disflx flxard txtcen f40"},i.a.createElement("div",null,i.a.createElement("div",{className:"f34"},"\xa5",e.total_sales_money),i.a.createElement("div",null,"\u9500\u552e\u989d")),i.a.createElement("div",null,i.a.createElement("div",{className:"f34"},"\xa5",e.total_subsidy),i.a.createElement("div",null,"\u5e73\u53f0\u8865\u8d34")),i.a.createElement("div",null,i.a.createElement("div",{className:"f34"},"\xa5",e.total_real_income),i.a.createElement("div",null,"\u5b9e\u6536\u6b3e")))))}}]),t}(i.a.Component),Gt=Object(f.b)(function(e){return e},function(e){return{}})(Object(v.g)($t)),Jt=Lt.a.TabPane,Xt=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(m.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={thisKey:"1",storeInfo:{}},a.changeTab=function(e){a.setState({thisKey:e})},a.componentDidMount=function(){var e,t=a.props.storeList?a.props.storeList:ce.getSessionStorage("storeList");a.props.storeInfo?e=a.props.storeInfo:ce.each(t.data,function(t){if(t.id==a.props.match.params.id)return e=t,a.props.setStoreInfo(t),void ce.saveSessionStorage("storeInfo",t)}),a.setState({thisKey:"order"==a.props.match.params.type?"2":"1",storeInfo:e})},a}return Object(p.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{className:"shadow-radius"},i.a.createElement("div",{className:"f48 fblod"},this.state.storeInfo.store_name),i.a.createElement(Lt.a,{activeKey:this.state.thisKey,onChange:this.changeTab},i.a.createElement(Jt,{tab:"\u5546\u54c1\u5217\u8868",key:"1"},i.a.createElement(Wt,null)),i.a.createElement(Jt,{tab:"\u8ba2\u5355\u5217\u8868",key:"2"},i.a.createElement(Kt,null)),i.a.createElement(Jt,{tab:"\u9500\u552e\u7ba1\u7406",key:"3"},i.a.createElement(Gt,null))))}}]),t}(i.a.Component),Qt=[{path:"/withDrawDeposit",component:ot},{path:"/storeList",component:Je},{path:"/saleList",component:Ye},{path:"/purchaseOrder",component:Ce},{path:"/storeInfo/:type/:id",component:Object(f.b)(function(e){return e},function(e){return{setStoreInfo:function(t){e(ve(t))}}})(Object(v.g)(Xt))},{path:"/storeAdd",component:jt},{path:"/error/404",component:J},{path:"/error/500",component:X}],Zt=E.a.Sider,ea=x.a.SubMenu,ta=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(m.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={menuSelected:a.props.history.location.pathname},a.handleFilter=function(e){var t=ce.getSessionStorage("userInfo")&&ce.getSessionStorage("userInfo").role.type;return!e||e===t},a.renderMenu=function(e){return e.map(function(e){return e.children&&!e.hideInMenu?a.handleFilter(e.permission)&&i.a.createElement(ea,{key:e.path,title:i.a.createElement("span",null,e.icon?i.a.createElement(b.a,{type:e.icon}):"",i.a.createElement("span",null,e.title))},a.renderMenu(e.children)):a.handleFilter(e.permission)&&i.a.createElement(x.a.Item,{key:e.path},i.a.createElement(g.b,{to:e.path,onClick:function(){return a.handClickTag(e)}},e.icon?i.a.createElement(b.a,{type:e.icon}):"",i.a.createElement("span",null,e.title)))})},a}return Object(p.a)(t,e),Object(d.a)(t,[{key:"handClickTag",value:function(e,t){for(var a=e.path,n=e.title,r=0;r<Qt.length;r++)if(a===Qt[r].path){var o={path:a,title:n,component:Qt[r].component};this.props.addTag(t?Object.assign({},o,{parent:t.title}):o)}}},{key:"render",value:function(){var e=this.props.history.location.pathname,t="/".concat(e.split("/")[1]),a=this.props.theme.type,n=this.props.collapse;return i.a.createElement(Zt,{trigger:null,collapsible:!0,collapsed:n.isCollapsed,theme:a,className:"app-sider trans03 posrea",style:{left:this.props.showBox?"0":"-500px"}},i.a.createElement("div",{className:"logo",style:{color:"dark"===a?"#ffffffa6":""}},n.isCollapsed?"":"\u6b22\u8fce\u60a8\uff01"),i.a.createElement(x.a,{style:{height:"50px"},theme:a,defaultOpenKeys:[t],defaultSelectedKeys:[e],selectedKeys:[e],mode:"inline"},this.renderMenu(B)))}}]),t}(s.Component),aa=Object(f.b)(function(e){return e},function(e){return{setUserInfo:function(t){e(n(t))},addTag:function(t){e(r(t))}}})(Object(v.g)(ta)),na=(a(161),a(127)),ra=a.n(na),oa=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(m.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={isFullScreen:!1},a.handleFullScrren=function(){a.state.isFullScreen?a.exitFullscreen():a.requestFullScreen()},a.requestFullScreen=function(){var e=document.documentElement;e.requestFullscreen?e.requestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullScreen&&e.webkitRequestFullScreen()},a.exitFullscreen=function(){var e=document;e.exitFullscreen?e.exitFullscreen():e.mozCancelFullScreen?e.mozCancelFullScreen():e.webkitCancelFullScreen&&e.webkitCancelFullScreen()},a.watchFullScreen=function(){document.addEventListener("fullscreenchange",function(){a.setState({isFullScreen:document.fullscreen})},!1),document.addEventListener("mozfullscreenchange",function(){a.setState({isFullScreen:document.mozFullScreen})},!1),document.addEventListener("webkitfullscreenchange",function(){a.setState({isFullScreen:document.webkitIsFullScreen})},!1)},a}return Object(p.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.watchFullScreen()}},{key:"render",value:function(){return i.a.createElement(b.a,{style:{fontSize:"20px",cursor:"pointer"},type:"fullscreen",onClick:this.handleFullScrren})}}]),t}(i.a.Component),sa=a(288),ia=function(e){function t(){return Object(u.a)(this,t),Object(m.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(d.a)(t,[{key:"handChangeTag",value:function(e){this.props.location.pathname!==e&&this.props.history.push(e)}},{key:"handRemoveTag",value:function(e,t){var a=this;e.stopPropagation();var n=this.props.tagList;this.props.location.pathname===t?n.forEach(function(){a.props.removeTag(t),t===n[n.length-1].path?a.props.history.replace(n[n.length-2].path):a.props.history.replace(n[n.length-1].path)}):this.props.removeTag(t)}},{key:"componentDidMount",value:function(){this.props.addTag({title:"\u5e97\u94fa\u7ba1\u7406",path:"/storeList"});for(var e=this.props.location,t=0;t<B.length;t++)if(B[t].children){for(var a=0;a<B[t].children.length;a++)if(e.pathname===B[t].children[a].path)this.props.addTag({title:B[t].children[a].title,path:B[t].children[a].path});else if(B[t].children[a].children)for(var n=0;n<B[t].children[a].children.length;n++)e.pathname===B[t].children[a].children[n].path&&this.props.addTag({title:B[t].children[a].children[n].title,path:B[t].children[a].children[n].path})}else e.pathname===B[t].path&&this.props.addTag({title:B[t].title,path:B[t].path})}},{key:"componentDidUpdate",value:function(e){for(var t=document.querySelector(".tags-list"),a=t.querySelectorAll("li"),n=0,r=0;r<a.length;r++)n+=a[r].offsetWidth+4;t.style.width=n+"px"}},{key:"render",value:function(){var e=this,t=this.props,a=t.tagList,n=t.location;return 0===a.length?null:i.a.createElement("div",{className:"tags"},i.a.createElement("div",{className:"tags-scroll"},i.a.createElement(sa.Scrollbars,{style:{width:"100%",height:45},autoHide:!0,universal:!0},i.a.createElement("ul",{className:"tags-list"},a.map(function(t,a){return i.a.createElement("li",{key:t.path,className:n.pathname===t.path?"isActive":"",onClick:function(){return e.handChangeTag(t.path)}},i.a.createElement("span",null,t.title),i.a.createElement("em",{onClick:function(a){return e.handRemoveTag(a,t.path)},className:0===a?"hide":""},"\xd7"))})))))}}]),t}(s.Component),la=Object(f.b)(function(e){return e},function(e){return{addTag:function(t){e(r(t))},removeTag:function(t){e(function(e){return{type:_,data:e}}(t))},emptyTag:function(){e(o())}}})(Object(v.g)(ia)),ca=(a(673),a(289)),ua=a.n(ca),da={display:"flex",justifyContent:"space-between",alignItems:"center",paddingBottom:"8px"},ma=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(m.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={old_num:60,new_num:60,codeInterval_new:"",codeInterval_old:""},a.handleOk=function(e){a.props.form.validateFields(function(e,t){e||(a.props.userInfo.mobile!=t.new_mobile?be.post("/index/modifyMobile",{mobile:t.new_mobile,code_new:t.code_new,code_old:t.code_old}).then(function(e){e&&1===e.status?(ae.a.success("\u4fee\u6539\u6210\u529f"),a.props.setUserInfo({}),a.props.emptyTag(),ce.removeSessionStorage("isLogin"),ce.removeSessionStorage("userInfo"),a.props.history.push("/"),a.props.setShowEditPhone(!1)):ae.a.error(e.msg)}):ae.a.warning("\u4fee\u6539\u624b\u673a\u53f7\u4e0d\u80fd\u4e0e\u539f\u624b\u673a\u53f7\u76f8\u540c"))})},a.handleCancel=function(e){a.setState({num:60}),a.props.setShowEditPhone(!1)},a.handleNormal=function(e){},a.sendCode=function(e){clearInterval(a.state["codeInterval"+e]),/^((\+)?86|((\+)?86)?)0?1[3456789]\d{9}$/.test(a.props.form.getFieldValue(e+"_mobile"))?be.post("/index/getVerifyCode",{mobile:a.props.form.getFieldValue(e+"_mobile"),mobile_type:"old"===e?1:0}).then(function(t){t&&1===t.status?a.setState(Object(Q.a)({},"codeInterval"+e,setInterval(function(){a.state[e+"_num"]--,a.state[e+"_num"]<=0?(clearInterval(a.state["codeInterval"+e]),a.setState(Object(Q.a)({},e+"_num",60))):a.setState(Object(Q.a)({},e+"_num",a.state[e+"_num"]))},1e3))):ae.a.error(t.msg)}):ae.a.error("\u8bf7\u8f93\u5165\u6b63\u786e\u7684\u624b\u673a\u53f7\u7801")},a}return Object(p.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this,t=this.props.form.getFieldDecorator,a=this.state,n=a.old_num,r=a.new_num,o=this.props.userInfo;return i.a.createElement("div",null,i.a.createElement(De.a,{title:"\u4fee\u6539\u7ed1\u5b9a\u624b\u673a\u53f7\u7801",visible:this.props.showEditPhone,onOk:this.handleOk,onCancel:this.handleCancel,destroyOnClose:!0,width:"700px",okText:"\u786e\u8ba4",cancelText:"\u53d6\u6d88",forcerender:!1},i.a.createElement(Le.a,Object.assign({},{labelCol:{sm:{span:5}},wrapperCol:{sm:{span:19}}},{onSubmit:this.handleSubmit}),i.a.createElement(Le.a.Item,{label:"\u65e7\u624b\u673a\u53f7\u7801"},i.a.createElement("div",{className:"disflx flxacen"},t("old_mobile",{initialValue:this.props.userInfo.mobile,rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u65e7\u624b\u673a\u53f7\u7801"}]})(i.a.createElement(Me.a,{disabled:!0,style:{width:"50%"}})),i.a.createElement("div",{className:"disflx flxacen"},i.a.createElement(W.a,{type:"primary",className:"malef10",onClick:n<60?this.handleNormal:function(){return e.sendCode("old")},disabled:n<60},n<60?n:"\u83b7\u53d6\u9a8c\u8bc1\u7801"),i.a.createElement("div",null,i.a.createElement("div",{className:"f10 malef10 corbase cursorP lie20"},"\u65e0\u6cd5\u63a5\u6536\u9a8c\u8bc1\u7801\uff1f"),i.a.createElement("div",{className:"f10 malef10 corbase lie20"},"\u5ba2\u670d\u7535\u8bdd:  ",o.service_mobile," "))))),i.a.createElement(Le.a.Item,{label:"\u9a8c\u8bc1\u7801"},t("code_old",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u9a8c\u8bc1\u7801"}]})(i.a.createElement(Me.a,{placeholder:"\u8bf7\u8f93\u5165\u9a8c\u8bc1\u7801",style:{width:"40%"}}))),i.a.createElement(Le.a.Item,{label:"\u65b0\u624b\u673a\u53f7\u7801"},i.a.createElement("div",{className:"disflx"},t("new_mobile",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u65b0\u624b\u673a\u53f7\u7801"}]})(i.a.createElement(Me.a,{placeholder:"\u8bf7\u8f93\u5165\u65b0\u624b\u673a\u53f7\u7801",style:{width:"50%"}})),i.a.createElement(W.a,{type:"primary",className:"malef10",onClick:r<60?this.handleNormal:function(){return e.sendCode("new")},disabled:r<60},r<60?r:"\u83b7\u53d6\u9a8c\u8bc1\u7801"))),i.a.createElement(Le.a.Item,{label:"\u9a8c\u8bc1\u7801"},t("code_new",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u9a8c\u8bc1\u7801"}]})(i.a.createElement(Me.a,{placeholder:"\u8bf7\u8f93\u5165\u9a8c\u8bc1\u7801",style:{width:"40%"}}))))))}}]),t}(i.a.Component),ha=Object(f.b)(function(e){return e},function(e){return{setShowEditPhone:function(t){e(It(t))},setUserInfo:function(t){e(n(t))},emptyTag:function(){e(o())}}})(Object(v.g)(Le.a.create()(ma))),pa=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(m.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).handleOk=function(e){a.props.form.validateFields(function(e,t){e||(6<=t.new_password.length?t.new_password===t.new_password2?be.post("/index/modifyPassword",{old_password:t.old_password,new_password:t.new_password}).then(function(e){e&&1===e.status?(ae.a.success("\u4fee\u6539\u6210\u529f"),a.props.setUserInfo({}),a.props.emptyTag(),ce.removeSessionStorage("isLogin"),ce.removeSessionStorage("userInfo"),a.props.history.push("/"),a.props.setShowEditPassword(!1)):ae.a.error(e.msg)}):ae.a.error("\u4e24\u6b21\u8f93\u5165\u7684\u5bc6\u7801\u4e0d\u4e00\u81f4"):ae.a.error("\u5bc6\u7801\u957f\u5ea6\u6700\u4f4e\u4e3a6\u4f4d"))})},a.handleCancel=function(e){a.props.setShowEditPassword(!1)},a}return Object(p.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.props.form.getFieldDecorator;return i.a.createElement("div",null,i.a.createElement(De.a,{title:"\u4fee\u6539\u5bc6\u7801",visible:this.props.showEditPassword,onOk:this.handleOk,onCancel:this.handleCancel,destroyOnClose:!0,okText:"\u786e\u8ba4",cancelText:"\u53d6\u6d88",forcerender:!1},i.a.createElement(Le.a,{labelCol:{sm:{span:7}},wrapperCol:{sm:{span:12}}},i.a.createElement(Le.a.Item,{label:"\u539f\u5bc6\u7801"},e("old_password",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u539f\u5bc6\u7801"}]})(i.a.createElement(Me.a,{placeholder:"\u8bf7\u8f93\u5165\u539f\u5bc6\u7801"}))),i.a.createElement(Le.a.Item,{label:"\u65b0\u5bc6\u7801"},e("new_password",{rules:[{required:!0,message:"\u8bf7\u8f93\u51656\u4f4d\u65b0\u5bc6\u7801"}]})(i.a.createElement(Me.a,{placeholder:"\u8bf7\u8f93\u51656\u4f4d\u65b0\u5bc6\u7801"}))),i.a.createElement(Le.a.Item,{label:"\u786e\u8ba4\u5bc6\u7801"},e("new_password2",{rules:[{required:!0,message:"\u8bf7\u518d\u6b21\u8f93\u51656\u4f4d\u65b0\u5bc6\u7801"}]})(i.a.createElement(Me.a,{placeholder:"\u8bf7\u518d\u6b21\u8f93\u51656\u4f4d\u65b0\u5bc6\u7801"}))))))}}]),t}(i.a.Component),fa=Object(f.b)(function(e){return e},function(e){return{setShowEditPassword:function(t){e(xt(t))},setUserInfo:function(t){e(n(t))},emptyTag:function(){e(o())}}})(Object(v.g)(Le.a.create()(pa))),ga=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(m.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).handleOk=function(e){a.props.form.validateFields(function(e,t){e||be.post("/index/modifyNickname",{nickname:t.new_store_name}).then(function(e){if(e&&1===e.status){ae.a.success("\u4fee\u6539\u6210\u529f");var n=ce.getSessionStorage("userInfo");n.nickname=t.new_store_name,ce.saveSessionStorage("userInfo",n),a.props.setUserInfo(n),a.props.setShowStoreInfo(!1)}else ae.a.error(e.msg)})})},a.handleCancel=function(e){a.props.setShowStoreInfo(!1)},a}return Object(p.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.props.form.getFieldDecorator;return i.a.createElement("div",null,i.a.createElement(De.a,{title:"\u4fee\u6539\u5e97\u94fa\u4fe1\u606f",visible:this.props.showStoreInfo,onOk:this.handleOk,onCancel:this.handleCancel,destroyOnClose:!0,okText:"\u786e\u8ba4",cancelText:"\u53d6\u6d88",forcerender:!1},i.a.createElement(Le.a,{labelCol:{sm:{span:7}},wrapperCol:{sm:{span:12}}},i.a.createElement(Le.a.Item,{label:"\u539f\u5e97\u94fa\u540d\u79f0"},e("old_store_name",{initialValue:this.props.userInfo.nickname})(i.a.createElement(Me.a,{disabled:!0}))),i.a.createElement(Le.a.Item,{label:"\u65b0\u5e97\u94fa\u540d\u79f0"},e("new_store_name",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u65b0\u5e97\u94fa\u540d\u79f0"}]})(i.a.createElement(Me.a,{placeholder:"\u8bf7\u8f93\u5165\u5e97\u94fa\u540d\u79f0"}))))))}}]),t}(i.a.Component),va=Object(f.b)(function(e){return e},function(e){return{setShowStoreInfo:function(t){e(St(t))},setUserInfo:function(t){e(n(t))}}})(Le.a.create()(ga)),ya=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(m.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={visible:!1,showTopTxtIndex:-1,plat_name:"\u8d85\u795e\u5bbf\u5546\u5bb6\u603b\u540e\u53f0"},a.handleLogout=function(){a.props.setUserInfo({}),a.props.emptyTag(),ce.removeSessionStorage("isLogin"),ce.removeSessionStorage("userInfo"),a.props.history.push("/")},a.toNews=function(){a.handClickTag("/news"),a.props.history.push("/news")},a.toggle=function(){a.props.setCollapse({isCollapsed:!a.props.collapse.isCollapsed})},a.setting=function(){a.setState({visible:!0})},a.onClose=function(){a.setState({visible:!1})},a.onChangeTags=function(e){a.props.setTags({show:e}),ce.savelocalStorage("tags",{show:e}),a.onClose()},a.onChangeBreadCrumb=function(e){a.props.setBreadCrumb({show:e}),ce.savelocalStorage("breadCrumb",{show:e}),a.onClose()},a.onChangeTheme=function(e){a.props.setTheme({type:e?"dark":"light"}),ce.savelocalStorage("theme",{type:e?"dark":"light"}),a.onClose()},a.onShowStoreInfo=function(e){a.props.setShowStoreInfo(!0)},a.onShowEditPassword=function(e){a.props.setShowEditPassword(!0)},a.onShowEditPhone=function(e){a.props.setShowEditPhone(!0)},a.handleEnter=function(e){clearInterval(Ct),Ct=setInterval(function(){a.state.showTopTxtIndex+=1,a.state.showTopTxtIndex>a.props.userInfo.nickname.length-1?(clearInterval(Ct),a.setState({showTopTxtIndex:-1})):a.setState({showTopTxtIndex:a.state.showTopTxtIndex})},200)},a}return Object(p.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){var e=ce.getSessionStorage("userInfo");e?this.props.setUserInfo(e):(this.props.setUserInfo({}),this.props.history.push("/login"))}},{key:"handClickTag",value:function(e,t){for(var a=0;a<Qt.length;a++)if(e===Qt[a].path){var n={path:e,title:"\u6d88\u606f",component:Qt[a].component};this.props.addTag(t?Object.assign({},n,{parent:t.title}):n)}}},{key:"getSingleTxt",value:function(e,t){var a=this.state.showTopTxtIndex,n=[];return ce.each(e,function(e){n.push(e)}),n.map(function(e,n){return 1===t?i.a.createElement("div",{className:"trans05",key:n,style:{transform:a==n?"translateY(30px)":"translateY(0)"}},e):i.a.createElement("div",{className:"trans05 plat_name",key:n},e)})}},{key:"render",value:function(){var e=i.a.createElement(x.a,{className:"drop-list"},i.a.createElement(x.a.Item,{key:"user"},i.a.createElement(b.a,{type:"user"}),0<Object.keys(this.props.userInfo).length&&this.props.userInfo.role.name),i.a.createElement(x.a.Item,{key:"baseInfo",onClick:this.onShowStoreInfo},i.a.createElement(b.a,{type:"idcard"}),"\u57fa\u672c\u4fe1\u606f"),i.a.createElement(x.a.Item,{key:"editPassword",onClick:this.onShowEditPassword},i.a.createElement(b.a,{type:"key"}),"\u4fee\u6539\u5bc6\u7801"),i.a.createElement(x.a.Item,{key:"editPhone",onClick:this.onShowEditPhone},i.a.createElement(b.a,{type:"phone"}),"\u66f4\u6539\u7ed1\u5b9a\u624b\u673a\u53f7"),i.a.createElement(x.a.Item,{key:"logout",onClick:this.handleLogout},i.a.createElement(b.a,{type:"logout"}),"\u9000\u51fa\u767b\u5f55")),t=this.props,a=t.tags,n=t.userInfo,r=this.state.plat_name,o=n?n.nickname:"",s=this.getSingleTxt(o,1),l=this.getSingleTxt(r,2);return i.a.createElement("div",{className:"top-header trans04",style:{opacity:this.props.showBox?"1":"0"}},i.a.createElement("div",{className:"top-header-inner"},i.a.createElement(b.a,{className:"trigger",type:"menu-unfold",onClick:this.toggle}),i.a.createElement("div",{className:"header-title disflx"},l),i.a.createElement("div",{className:"header-right"},i.a.createElement("div",{className:"full-screen"},i.a.createElement(oa,null)),i.a.createElement("div",{className:"setting"},i.a.createElement(b.a,{style:{fontSize:"21px",cursor:"pointer"},type:"setting",onClick:this.setting})),i.a.createElement("div",{className:"dropdown-wrap top_header",id:"dropdown-wrap",style:{cursor:"pointer"},onMouseEnter:this.handleEnter,onMouseLeave:this.handleOut},i.a.createElement(ra.a,{getPopupContainer:function(){return document.getElementById("dropdown-wrap")},overlay:e},i.a.createElement("div",{className:"disflx flxacen"},i.a.createElement("img",{src:"http://wx.supersg.cn"+n.cover,alt:"",className:"wd40 he40 bgf2f trans04 logo cor666 radius4"}),i.a.createElement("div",{className:"malef10 marig10 f20 trans05 disflx store_name"},s),i.a.createElement(b.a,{style:{color:"rgba(0,0,0,.3)",cursor:"pointer"},type:"caret-down"})))))),a.show?i.a.createElement(la,null):null,i.a.createElement(Ot,Object.assign({title:"\u7cfb\u7edf\u8bbe\u7f6e",closable:!0,onClose:this.onClose,visible:this.state.visible,onChangeTags:this.onChangeTags,onChangeBreadCrumb:this.onChangeBreadCrumb,onChangeTheme:this.onChangeTheme},this.props)),i.a.createElement(va,null),i.a.createElement(fa,null),i.a.createElement(ha,null))}}]),t}(s.Component),Ea=Object(f.b)(function(e){return e},function(e){return{setCollapse:function(t){e(function(e){return{type:L,data:e}}(t))},setUserInfo:function(t){e(n(t))},emptyTag:function(){e(o())},addTag:function(t){e(r(t))},setBreadCrumb:function(t){e(function(e){return{type:k,data:e}}(t))},setTags:function(t){e(function(e){return{type:j,data:e}}(t))},setTheme:function(t){e(function(e){return{type:N,data:e}}(t))},setShowStoreInfo:function(t){e(St(t))},setShowEditPassword:function(t){e(xt(t))},setShowEditPhone:function(t){e(It(t))}}})(Object(v.g)(ya)),wa=a(697),ba=a(696),Sa=E.a.Content,xa=Object(v.g)(Object(f.b)(function(e){return{userInfo:e.userInfo}})(function(e){var t=e.location,a=ce.getSessionStorage("userInfo")&&ce.getSessionStorage("userInfo").role.type;return i.a.createElement(wa.a,null,i.a.createElement(ba.a,{classNames:"fade",key:t.pathname,timeout:500},i.a.createElement(Sa,{style:{padding:"15px"}},i.a.createElement(v.d,null,Qt.map(function(e){return function(e){return!e||e===a}(e.permission)&&i.a.createElement(v.b,{render:function(){return i.a.createElement(e.component,null)},key:e.path,path:e.path})}),i.a.createElement(v.a,{from:"/",exact:!0,to:"/storeList"}),i.a.createElement(v.a,{to:"/error/404"})))))})),Ia=(a(675),a(290)),Oa=a.n(Ia),_a=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(m.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).createBreadCrumbData=function(e,t){var a=[],n=[],r=[];return t.forEach(function(t){e.pathname===t.path&&(t.children?a.push({icon:t.icon||"",path:t.path,title:t.title}):a.push(t)),t.children&&0<t.children.length&&t.children.forEach(function(o){e.pathname===o.path&&(n.push(o),a.push({icon:t.icon||"",path:t.path,title:t.title})),o.children&&0<o.children.length&&o.children.forEach(function(s){e.pathname===s.path&&(r.push(s),n.push({icon:o.icon||"",path:o.path,title:o.title}),a.push({icon:t.icon||"",path:t.path,title:t.title}))})})}),[].concat(a,n,r)},a}return Object(p.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.props.location,t=this.createBreadCrumbData(e,B);return t.length?i.a.createElement("div",{className:"breadCrumb"},i.a.createElement(Oa.a,{routes:t,itemRender:function(e,t,a,n){return a.indexOf(e)===a.length-1?i.a.createElement(g.b,{to:e.path},e.icon&&i.a.createElement(b.a,{type:e.icon})," ",e.title):i.a.createElement("span",null,e.icon&&i.a.createElement(b.a,{type:e.icon})," ",e.title)}})):null}}]),t}(i.a.Component),Ca=Object(v.g)(_a),ka=function(e){function t(){return Object(u.a)(this,t),Object(m.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.props.setShowBox(!0)}},{key:"render",value:function(){var e=this.props.breadCrumb;return i.a.createElement("div",{className:"layout"},i.a.createElement(E.a,null,i.a.createElement(aa,null),i.a.createElement(E.a,null,i.a.createElement(Ea,null),e.show?i.a.createElement(Ca,null):null,i.a.createElement(xa,null))))}}]),t}(s.Component),ja=Object(f.b)(function(e){return e},function(e){return{setUserInfo:function(t){e(n(t))},setShowBox:function(t){e(function(e){return{type:q,data:e}}(t))}}})(ka),Na=a(81),La=a(291),Fa=a.n(La),Da=(a(680),Le.a.Item),Ta=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(m.a)(this,Object(h.a)(t).call(this,e))).state={clientHeight:document.documentElement.clientHeight||document.body.clientHeight,showForm:!1,showHello:!1},a.login=function(e){e.preventDefault(),a.props.form.validateFields(function(e,t){e||be.post("index/login",t).then(function(e){if(1===e.status&&e){var t=Object.assign({},e.data,{role:{type:1,name:"\u8d85\u7ea7\u7ba1\u7406\u5458"}});return ce.saveSessionStorage("isLogin",1),ce.saveSessionStorage("userInfo",t),a.props.setUserInfo(t),a.setState({showHello:!0}),be.post("/store/StoreList",{page:1})}ae.a.error(e.msg)}).then(function(e){e&&1===e.status&&(ce.each(e.data.data,function(e){e.create_time=se()(1e3*e.create_time).format("YYYY-MM-DD")}),ce.saveSessionStorage("storeList",e.data),a.props.setStoreList(e.data),setTimeout(function(){a.props.history.push("/storeList")},500))})})},a.onResize=a.onResize.bind(Object(Na.a)(a)),a}return Object(p.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){var e=this;setTimeout(function(){e.setState({showForm:!0})},400),window.addEventListener("resize",this.onResize)}},{key:"componentWillUnmount",value:function(){window.addEventListener("resize",this.onResize),this.setState=function(){}}},{key:"onResize",value:function(){this.setState({clientHeight:document.documentElement.clientHeight||document.body.clientHeight})}},{key:"render",value:function(){var e=this.props.form.getFieldDecorator;return i.a.createElement("div",{className:"container"},i.a.createElement(Fa.a,{height:this.state.clientHeight-5+"px",params:{number:{value:50},ize:{value:3},interactivity:{events:{onhover:{enable:!0,mode:"repulse"}}}}}),i.a.createElement("div",{className:"content"},this.state.showForm,i.a.createElement("div",{className:"login_content ofh"},i.a.createElement("div",{className:"wdp200 trl03 posrea disflx",style:{left:this.state.showHello?"-100%":"0"}},i.a.createElement("div",{className:"login_box"},i.a.createElement("div",{className:"title form_Item ".concat(this.state.showForm?"showFormItem":"")},"\u8d85\u795e\u5bbf\u5546\u5bb6\u603b\u540e\u53f0"),i.a.createElement(Le.a,{className:"login-form form_Item ".concat(this.state.showForm?"showFormItem":"")},i.a.createElement(Da,{className:""},e("mobile",{rules:[{required:!0,message:"\u8bf7\u586b\u5199\u7528\u6237\u540d\uff01"}]})(i.a.createElement(Me.a,{prefix:i.a.createElement(b.a,{type:"user",style:{color:"rgba(0,0,0,.25)"}}),placeholder:"\u7528\u6237\u540d"}))),i.a.createElement(Da,{className:""},e("password",{rules:[{required:!0,message:"\u8bf7\u586b\u5199\u5bc6\u7801\uff01"}]})(i.a.createElement(Me.a.Password,{prefix:i.a.createElement(b.a,{type:"lock",style:{color:"rgba(0,0,0,.25)"}}),placeholder:"\u5bc6\u7801"}))),i.a.createElement(Da,null,i.a.createElement(W.a,{className:"",type:"primary",htmlType:"submit",block:!0,onClick:this.login},"\u767b\u5f55")))),i.a.createElement("div",{className:"login_box txtcen corfff f40 boxsize",style:{lineHeight:"266px"}},"\u6b22\u8fce\u56de\u6765!")))))}}]),t}(s.Component),Ma=Object(f.b)(function(e){return e},function(e){return{setUserInfo:function(t){e(n(t))},setStoreList:function(t){e(pe(t))}}})(Le.a.create()(Ta)),Pa=a(292),Aa=Object(v.g)(function(e){var t=e.component,a=Object(Pa.a)(e,["component"]),n=1===ce.getSessionStorage("isLogin");return i.a.createElement(v.b,Object.assign({},a,{render:function(e){return n?i.a.createElement(t,e):i.a.createElement(v.a,{to:"/login"})}}))}),Ra=a(70),Ua=a(293),qa=a(294),Ka=a(295),Ha=ce.getlocalStorage("breadCrumb")?ce.getlocalStorage("breadCrumb"):{show:!0},Ba=ce.getlocalStorage("tags")?ce.getlocalStorage("tags"):{show:!1},Ya=ce.getlocalStorage("theme")?ce.getlocalStorage("theme"):{type:"dark"},za=Object(Ra.c)({userInfo:function(e,t){var a=0<arguments.length&&void 0!==e?e:{},n=1<arguments.length?t:void 0;switch(n.type){case I:return n.data;default:return a}},showBox:function(e,t){var a=0<arguments.length&&void 0!==e&&e,n=1<arguments.length?t:void 0;switch(n.type){case q:return n.data;default:return a}},tagList:function(e,t){var a=0<arguments.length&&void 0!==e?e:[],n=1<arguments.length?t:void 0;switch(n.type){case O:var r=[].concat(Object(Ka.a)(a),[n.data]),o={};return r.reduce(function(e,t){return o[t.path]||(o[t.path]=e.push(t)),e},[]);case _:return a.filter(function(e){if(e.path!==n.data)return e});case C:return[];default:return a}},breadCrumb:function(e,t){var a=0<arguments.length&&void 0!==e?e:Ha,n=1<arguments.length?t:void 0;switch(n.type){case k:return n.data;default:return a}},tags:function(e,t){var a=0<arguments.length&&void 0!==e?e:Ba,n=1<arguments.length?t:void 0;switch(n.type){case j:return n.data;default:return a}},theme:function(e,t){var a=0<arguments.length&&void 0!==e?e:Ya,n=1<arguments.length?t:void 0;switch(n.type){case N:return n.data;default:return a}},collapse:function(e,t){var a=0<arguments.length&&void 0!==e?e:{isCollapsed:!1},n=1<arguments.length?t:void 0;switch(n.type){case L:return n.data;default:return a}},mapState:function(e,t){var a=0<arguments.length&&void 0!==e&&e,n=1<arguments.length?t:void 0;switch(n.type){case F:return n.data;default:return a}},storeAddress:function(e,t){var a=0<arguments.length&&void 0!==e?e:"",n=1<arguments.length?t:void 0;switch(n.type){case A:return n.data;default:return a}},withDrawBox:function(e,t){var a=0<arguments.length&&void 0!==e&&e,n=1<arguments.length?t:void 0;switch(n.type){case R:return n.data;default:return a}},storeInfo:function(e,t){var a=0<arguments.length&&void 0!==e?e:null,n=1<arguments.length?t:void 0;switch(n.type){case U:return n.data;default:return a}},withDrawList:function(e,t){var a=0<arguments.length&&void 0!==e?e:[],n=1<arguments.length?t:void 0;switch(n.type){case K:return n.data;default:return a}},withDrawDetail:function(e,t){var a=0<arguments.length&&void 0!==e?e:null,n=1<arguments.length?t:void 0;switch(n.type){case H:return n.data;default:return a}},storeList:function(e,t){var a=0<arguments.length&&void 0!==e&&e,n=1<arguments.length?t:void 0;switch(n.type){case P:return n.data;default:return a}},showStoreInfo:function(e,t){var a=0<arguments.length&&void 0!==e&&e,n=1<arguments.length?t:void 0;switch(n.type){case D:return n.data;default:return a}},showEditPassword:function(e,t){var a=0<arguments.length&&void 0!==e&&e,n=1<arguments.length?t:void 0;switch(n.type){case T:return n.data;default:return a}},showEditPhone:function(e,t){var a=0<arguments.length&&void 0!==e&&e,n=1<arguments.length?t:void 0;switch(n.type){case M:return n.data;default:return a}}}),Va=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||Ra.d,Wa=(Object(Ua.createLogger)(),Object(Ra.e)(za,Va(Object(Ra.a)(qa.a)))),$a=(a(681),a(682),function(e){function t(){return Object(u.a)(this,t),Object(m.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return i.a.createElement(f.a,{store:Wa},i.a.createElement(_t,null))}}]),t}(i.a.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)),c.a.render(i.a.createElement($a,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[297,1,2]]]);